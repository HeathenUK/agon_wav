Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED07-Oct-23     18:54:23     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optspeed -noreduceopt -nopadbranc
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\vdp.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "NONAME0",8
                           A     9    .DEFINE "baudRate"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 4
                           A    13    .ENDEF
                           A    14    .DEFINE "dataBits"
                           A    15    .VALUE 3
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "stopBits"
                           A    20    .VALUE 4
                           A    21    .CLASS 8
                           A    22    .TYPE 12
                           A    23    .ENDEF
                           A    24    .DEFINE "parity"
                           A    25    .VALUE 5
                           A    26    .CLASS 8
                           A    27    .TYPE 12
                           A    28    .ENDEF
                           A    29    .DEFINE "flowcontrol"
                           A    30    .VALUE 6
                           A    31    .CLASS 8
                           A    32    .TYPE 12
                           A    33    .ENDEF
                           A    34    .DEFINE "eir"
                           A    35    .VALUE 7
                           A    36    .CLASS 8
                           A    37    .TYPE 12
                           A    38    .ENDEF
                           A    39    .ENDREC "NONAME0"
                           A    40    .BEGREC "NONAME1",15
                           A    41    .DEFINE "fs"
                           A    42    .VALUE 0
                           A    43    .CLASS 8
                           A    44    .TYPE 46
                           A    45    .ENDEF
                           A    46    .DEFINE "id"
                           A    47    .VALUE 3
                           A    48    .CLASS 8
                           A    49    .TYPE 13
                           A    50    .ENDEF
                           A    51    .DEFINE "attr"
                           A    52    .VALUE 5
                           A    53    .CLASS 8
                           A    54    .TYPE 12
                           A    55    .ENDEF
                           A    56    .DEFINE "stat"
                           A    57    .VALUE 6
                           A    58    .CLASS 8
                           A    59    .TYPE 12
                           A    60    .ENDEF
                           A    61    .DEFINE "sclust"
                           A    62    .VALUE 7
                           A    63    .CLASS 8
                           A    64    .TYPE 15
                           A    65    .ENDEF
                           A    66    .DEFINE "objsize"
                           A    67    .VALUE 11
                           A    68    .CLASS 8
                           A    69    .TYPE 15
                           A    70    .ENDEF
                           A    71    .ENDREC "NONAME1"
                           A    72    .BEGREC "NONAME2",36
                           A    73    .DEFINE "obj"
                           A    74    .VALUE 0
                           A    75    .CLASS 8
                           A    76    .TAG "NONAME1"
                           A    77    .TYPE 8
                           A    78    .ENDEF
                           A    79    .DEFINE "flag"
                           A    80    .VALUE 15
                           A    81    .CLASS 8
                           A    82    .TYPE 12
                           A    83    .ENDEF
                           A    84    .DEFINE "err"
                           A    85    .VALUE 16
                           A    86    .CLASS 8
                           A    87    .TYPE 12
                           A    88    .ENDEF
                           A    89    .DEFINE "fptr"
                           A    90    .VALUE 17
                           A    91    .CLASS 8
                           A    92    .TYPE 15
                           A    93    .ENDEF
                           A    94    .DEFINE "clust"
                           A    95    .VALUE 21
                           A    96    .CLASS 8
                           A    97    .TYPE 15
                           A    98    .ENDEF
                           A    99    .DEFINE "sect"
                           A   100    .VALUE 25
                           A   101    .CLASS 8
                           A   102    .TYPE 15
                           A   103    .ENDEF
                           A   104    .DEFINE "dir_sect"
                           A   105    .VALUE 29
                           A   106    .CLASS 8
                           A   107    .TYPE 15
                           A   108    .ENDEF
                           A   109    .DEFINE "dir_ptr"
                           A   110    .VALUE 33
                           A   111    .CLASS 8
                           A   112    .TYPE 46
                           A   113    .ENDEF
                           A   114    .ENDREC "NONAME2"
                           A   115    ;    1	#include <defines.h>
                           A   116    ;    2	#include "vdp.h"
                           A   117    ;    3	#include "mos-interface.h"
                           A   118    ;    4	
                           A   119    ;    5	// Generic functions
                           A   120    ;    6	
                           A   121    ;    7	void write16bit(UINT16 w)
                           A   122    ;    8	{
040D18                     A   123    _write16bit:
                           A   124    .DEFINE "_write16bit"
                           A   125    
                           A   126    .VALUE _write16bit
                           A   127    
                           A   128    .CLASS 2
                           A   129    
                           A   130    .TYPE 65
                           A   131    
                           A   132    .ENDEF
                           A   133    
                           A   134    .BEGFUNC "write16bit",8,"_write16bit"
                           A   135    
                           A   136    .LINE 8
                           A   137    
                           A   138    .DEFINE "w"
                           A   139    
                           A   140    .CLASS 65
                           A   141    
                           A   142    .VALUE 6
                           A   143    
                           A   144    .TYPE 13
                           A   145    
                           A   146    .ENDEF
                           A   147    
040D18 DDE5                A   148    	PUSH	IX
040D1A DD210000 00         A   149    	LD	IX,0
040D1F DD39                A   150    	ADD	IX,SP
                           A   151    ;    9		putch(w & 0xFF); // write LSB
                           A   152    .LINE 9
                           A   153    
040D21 DD0706              A   154    	LD	BC,(IX+%6)
040D24 CD 3C 20 04         A   155    	CALL	__stoiu
040D28 7D                  A   156    	LD	A,L
040D29 B7ED62              A   157    	UEXT	HL
040D2C 6F                  A   158    	LD	L,A
040D2D E5                  A   159    	PUSH	HL
040D2E CD DA 18 04         A   160    	CALL	_putch
040D32 C1                  A   161    	POP	BC
                           A   162    ;   10		putch(w >> 8);	 // write MSB	
                           A   163    .LINE 10
                           A   164    
040D33 DD0706              A   165    	LD	BC,(IX+%6)
040D36 CD 3C 20 04         A   166    	CALL	__stoiu
040D3A E5C1                A   167    	LD	BC,HL
040D3C 3B                  A   168    	DEC	SP
040D3D C5                  A   169    	PUSH	BC
040D3E 33                  A   170    	INC	SP
040D3F F1                  A   171    	POP	AF
040D40 17ED62              A   172    	SEXT	HL
040D43 E5                  A   173    	PUSH	HL
040D44 C5                  A   174    	PUSH	BC
040D45 33                  A   175    	INC	SP
040D46 C1                  A   176    	POP	BC
040D47 33                  A   177    	INC	SP
040D48 33                  A   178    	INC	SP
040D49 C5                  A   179    	PUSH	BC
040D4A CD DA 18 04         A   180    	CALL	_putch
040D4E C1                  A   181    	POP	BC
                           A   182    ;   11	}
                           A   183    .LINE 11
                           A   184    
040D4F DDF9                A   185    	LD	SP,IX
040D51 DDE1                A   186    	POP	IX
040D53 C9                  A   187    	RET	
                           A   188    
                           A   189    
                           A   190    ;**************************** _write16bit *****
                           A   191    ;Name                         Addr/Register   S
                           A   192    ;_putch                              IMPORT  --
                           A   193    ;w                                     IX+6    
                           A   194    
                           A   195    
                           A   196    ; Stack Frame Size: 9 (bytes)
                           A   197    ;       Spill Code: 0 (instruction)
                           A   198    
                           A   199    
                           A   200    .ENDFUNC "write16bit",11,"_write16bit"
                           A   201    ;   12	
                           A   202    ;   13	void write24bit(UINT24 w)
                           A   203    ;   14	{
040D54                     A   204    _write24bit:
                           A   205    .DEFINE "_write24bit"
                           A   206    
                           A   207    .VALUE _write24bit
                           A   208    
                           A   209    .CLASS 2
                           A   210    
                           A   211    .TYPE 65
                           A   212    
                           A   213    .ENDEF
                           A   214    
                           A   215    .BEGFUNC "write24bit",14,"_write24bit"
                           A   216    
                           A   217    .LINE 14
                           A   218    
                           A   219    .DEFINE "w"
                           A   220    
                           A   221    .CLASS 65
                           A   222    
                           A   223    .VALUE 6
                           A   224    
                           A   225    .TYPE 14
                           A   226    
                           A   227    .ENDEF
                           A   228    
                           A   229    .DEFINE "temp"
                           A   230    
                           A   231    .CLASS 65
                           A   232    
                           A   233    .VALUE -3
                           A   234    
                           A   235    .TYPE 14
                           A   236    
                           A   237    .ENDEF
                           A   238    
040D54 DDE5                A   239    	PUSH	IX
040D56 DD210000 00         A   240    	LD	IX,0
040D5B DD39                A   241    	ADD	IX,SP
040D5D C5                  A   242    	PUSH	BC
040D5E 3B                  A   243    	DEC	SP
                           A   244    ;   15		UINT24 temp = w;
                           A   245    ;   16		
                           A   246    ;   17		putch(temp & 0xFF); // write LSB
                           A   247    .LINE 17
                           A   248    
040D5F DD7E06              A   249    	LD	A,(IX+%6)
040D62 B7ED62              A   250    	UEXT	HL
040D65 6F                  A   251    	LD	L,A
040D66 E5                  A   252    	PUSH	HL
040D67 DD77FC              A   253    	LD	(IX+%FFFFFFFC),A
040D6A CD DA 18 04         A   254    	CALL	_putch
040D6E DD7EFC              A   255    	LD	A,(IX+%FFFFFFFC)
040D71 C1                  A   256    	POP	BC
                           A   257    ;   18		temp = temp >> 8;
                           A   258    .LINE 18
                           A   259    
040D72 B7ED62              A   260    	UEXT	HL
040D75 E5                  A   261    	PUSH	HL
040D76 DD2706              A   262    	LD	HL,(IX+%6)
040D79 E5                  A   263    	PUSH	HL
040D7A 33                  A   264    	INC	SP
040D7B E1                  A   265    	POP	HL
040D7C 33                  A   266    	INC	SP
040D7D 33                  A   267    	INC	SP
040D7E DD2FFD              A   268    	LD	(IX+%FFFFFFFD),HL
                           A   269    ;   19		putch(temp & 0xFF);
                           A   270    .LINE 19
                           A   271    
040D81 DD7EFD              A   272    	LD	A,(IX+%FFFFFFFD)
040D84 B7ED62              A   273    	UEXT	HL
040D87 6F                  A   274    	LD	L,A
040D88 E5                  A   275    	PUSH	HL
040D89 DD77FC              A   276    	LD	(IX+%FFFFFFFC),A
040D8C CD DA 18 04         A   277    	CALL	_putch
040D90 DD7EFC              A   278    	LD	A,(IX+%FFFFFFFC)
040D93 C1                  A   279    	POP	BC
                           A   280    ;   20		temp = temp >> 8;
                           A   281    .LINE 20
                           A   282    
040D94 B7ED62              A   283    	UEXT	HL
040D97 E5                  A   284    	PUSH	HL
040D98 DD27FD              A   285    	LD	HL,(IX+%FFFFFFFD)
040D9B E5                  A   286    	PUSH	HL
040D9C 33                  A   287    	INC	SP
040D9D E1                  A   288    	POP	HL
040D9E 33                  A   289    	INC	SP
040D9F 33                  A   290    	INC	SP
040DA0 DD2FFD              A   291    	LD	(IX+%FFFFFFFD),HL
                           A   292    ;   21		putch(temp & 0xFF);
                           A   293    .LINE 21
                           A   294    
040DA3 DD7EFD              A   295    	LD	A,(IX+%FFFFFFFD)
040DA6 B7ED62              A   296    	UEXT	HL
040DA9 6F                  A   297    	LD	L,A
040DAA E5                  A   298    	PUSH	HL
040DAB CD DA 18 04         A   299    	CALL	_putch
040DAF C1                  A   300    	POP	BC
                           A   301    ;   22		
                           A   302    ;   23		return;	
                           A   303    ;   24	}
                           A   304    .LINE 24
                           A   305    
040DB0 DDF9                A   306    	LD	SP,IX
040DB2 DDE1                A   307    	POP	IX
040DB4 C9                  A   308    	RET	
                           A   309    
                           A   310    
                           A   311    ;**************************** _write24bit *****
                           A   312    ;Name                         Addr/Register   S
                           A   313    ;_putch                              IMPORT  --
                           A   314    ;temp                                  IX-3    
                           A   315    ;w                                     IX+6    
                           A   316    
                           A   317    
                           A   318    ; Stack Frame Size: 13 (bytes)
                           A   319    ;       Spill Code: 0 (instruction)
                           A   320    
                           A   321    
                           A   322    .ENDFUNC "write24bit",24,"_write24bit"
                           A   323    ;   25	
                           A   324    ;   26	void write32bit(UINT32 l)
                           A   325    ;   27	{
040DB5                     A   326    _write32bit:
                           A   327    .DEFINE "_write32bit"
                           A   328    
                           A   329    .VALUE _write32bit
                           A   330    
                           A   331    .CLASS 2
                           A   332    
                           A   333    .TYPE 65
                           A   334    
                           A   335    .ENDEF
                           A   336    
                           A   337    .BEGFUNC "write32bit",27,"_write32bit"
                           A   338    
                           A   339    .LINE 27
                           A   340    
                           A   341    .DEFINE "l"
                           A   342    
                           A   343    .CLASS 65
                           A   344    
                           A   345    .VALUE 6
                           A   346    
                           A   347    .TYPE 15
                           A   348    
                           A   349    .ENDEF
                           A   350    
                           A   351    .DEFINE "temp"
                           A   352    
                           A   353    .CLASS 65
                           A   354    
                           A   355    .VALUE -4
                           A   356    
                           A   357    .TYPE 15
                           A   358    
                           A   359    .ENDEF
                           A   360    
040DB5 DDE5                A   361    	PUSH	IX
040DB7 DD210000 00         A   362    	LD	IX,0
040DBC DD39                A   363    	ADD	IX,SP
040DBE C5                  A   364    	PUSH	BC
040DBF 3B                  A   365    	DEC	SP
                           A   366    ;   28		UINT32 temp = l;
                           A   367    ;   29		
                           A   368    ;   30		putch(temp & 0xFF); // write LSB
                           A   369    .LINE 30
                           A   370    
040DC0 DD2706              A   371    	LD	HL,(IX+%6)
040DC3 7D                  A   372    	LD	A,L
040DC4 B7ED62              A   373    	UEXT	HL
040DC7 6F                  A   374    	LD	L,A
040DC8 E5                  A   375    	PUSH	HL
040DC9 CD DA 18 04         A   376    	CALL	_putch
040DCD C1                  A   377    	POP	BC
                           A   378    ;   31		temp = temp >> 8;
                           A   379    .LINE 31
                           A   380    
040DCE DD0707              A   381    	LD	BC,(IX+%7)
040DD1 AF                  A   382    	XOR	A,A
040DD2 DD0FFC              A   383    	LD	(IX+%FFFFFFFC),BC
040DD5 DD77FF              A   384    	LD	(IX+%FFFFFFFF),A
                           A   385    ;   32		putch(temp & 0xFF);
                           A   386    .LINE 32
                           A   387    
040DD8 C5E1                A   388    	LD	HL,BC
040DDA 7D                  A   389    	LD	A,L
040DDB B7ED62              A   390    	UEXT	HL
040DDE 6F                  A   391    	LD	L,A
040DDF E5                  A   392    	PUSH	HL
040DE0 CD DA 18 04         A   393    	CALL	_putch
040DE4 C1                  A   394    	POP	BC
                           A   395    ;   33		temp = temp >> 8;
                           A   396    .LINE 33
                           A   397    
040DE5 DD07FD              A   398    	LD	BC,(IX+%FFFFFFFD)
040DE8 AF                  A   399    	XOR	A,A
040DE9 DD0FFC              A   400    	LD	(IX+%FFFFFFFC),BC
040DEC DD77FF              A   401    	LD	(IX+%FFFFFFFF),A
                           A   402    ;   34		putch(temp & 0xFF);
                           A   403    .LINE 34
                           A   404    
040DEF C5E1                A   405    	LD	HL,BC
040DF1 7D                  A   406    	LD	A,L
040DF2 B7ED62              A   407    	UEXT	HL
040DF5 6F                  A   408    	LD	L,A
040DF6 E5                  A   409    	PUSH	HL
040DF7 CD DA 18 04         A   410    	CALL	_putch
040DFB C1                  A   411    	POP	BC
                           A   412    ;   35		temp = temp >> 8;
                           A   413    .LINE 35
                           A   414    
040DFC DD07FD              A   415    	LD	BC,(IX+%FFFFFFFD)
040DFF AF                  A   416    	XOR	A,A
040E00 DD0FFC              A   417    	LD	(IX+%FFFFFFFC),BC
040E03 DD77FF              A   418    	LD	(IX+%FFFFFFFF),A
                           A   419    ;   36		putch(temp & 0xFF);
                           A   420    .LINE 36
                           A   421    
040E06 C5E1                A   422    	LD	HL,BC
040E08 7D                  A   423    	LD	A,L
040E09 B7ED62              A   424    	UEXT	HL
040E0C 6F                  A   425    	LD	L,A
040E0D E5                  A   426    	PUSH	HL
040E0E CD DA 18 04         A   427    	CALL	_putch
040E12 C1                  A   428    	POP	BC
                           A   429    ;   37		return;	
                           A   430    ;   38	}
                           A   431    .LINE 38
                           A   432    
040E13 DDF9                A   433    	LD	SP,IX
040E15 DDE1                A   434    	POP	IX
040E17 C9                  A   435    	RET	
                           A   436    
                           A   437    
                           A   438    ;**************************** _write32bit *****
                           A   439    ;Name                         Addr/Register   S
                           A   440    ;_putch                              IMPORT  --
                           A   441    ;temp                                  IX-4    
                           A   442    ;l                                     IX+6    
                           A   443    
                           A   444    
                           A   445    ; Stack Frame Size: 16 (bytes)
                           A   446    ;       Spill Code: 0 (instruction)
                           A   447    
                           A   448    
                           A   449    .ENDFUNC "write32bit",38,"_write32bit"
                           A   450    ;   39	
                           A   451    ;   40	void vdp_mode(unsigned char mode)
                           A   452    ;   41	{
040E18                     A   453    _vdp_mode:
                           A   454    .DEFINE "_vdp_mode"
                           A   455    
                           A   456    .VALUE _vdp_mode
                           A   457    
                           A   458    .CLASS 2
                           A   459    
                           A   460    .TYPE 65
                           A   461    
                           A   462    .ENDEF
                           A   463    
                           A   464    .BEGFUNC "vdp_mode",41,"_vdp_mode"
                           A   465    
                           A   466    .LINE 41
                           A   467    
                           A   468    .DEFINE "mode"
                           A   469    
                           A   470    .CLASS 65
                           A   471    
                           A   472    .VALUE 6
                           A   473    
                           A   474    .TYPE 12
                           A   475    
                           A   476    .ENDEF
                           A   477    
040E18 DDE5                A   478    	PUSH	IX
040E1A DD210000 00         A   479    	LD	IX,0
040E1F DD39                A   480    	ADD	IX,SP
                           A   481    ;   42	    putch(22);
                           A   482    .LINE 42
                           A   483    
040E21 01160000            A   484    	LD	BC,22
040E25 C5                  A   485    	PUSH	BC
040E26 CD DA 18 04         A   486    	CALL	_putch
040E2A C1                  A   487    	POP	BC
                           A   488    ;   43	    putch(mode);
                           A   489    .LINE 43
                           A   490    
040E2B DD7E06              A   491    	LD	A,(IX+%6)
040E2E B7ED62              A   492    	UEXT	HL
040E31 6F                  A   493    	LD	L,A
040E32 E5                  A   494    	PUSH	HL
040E33 CD DA 18 04         A   495    	CALL	_putch
040E37 C1                  A   496    	POP	BC
                           A   497    ;   44	}
                           A   498    .LINE 44
                           A   499    
040E38 DDF9                A   500    	LD	SP,IX
040E3A DDE1                A   501    	POP	IX
040E3C C9                  A   502    	RET	
                           A   503    
                           A   504    
                           A   505    ;**************************** _vdp_mode *******
                           A   506    ;Name                         Addr/Register   S
                           A   507    ;_putch                              IMPORT  --
                           A   508    ;mode                                  IX+6    
                           A   509    
                           A   510    
                           A   511    ; Stack Frame Size: 9 (bytes)
                           A   512    ;       Spill Code: 0 (instruction)
                           A   513    
                           A   514    
                           A   515    .ENDFUNC "vdp_mode",44,"_vdp_mode"
                           A   516    ;   45	
                           A   517    ;   46	void vdp_getMode(void) {
040E3D                     A   518    _vdp_getMode:
                           A   519    .DEFINE "_vdp_getMode"
                           A   520    
                           A   521    .VALUE _vdp_getMode
                           A   522    
                           A   523    .CLASS 2
                           A   524    
                           A   525    .TYPE 65
                           A   526    
                           A   527    .ENDEF
                           A   528    
                           A   529    .BEGFUNC "vdp_getMode",46,"_vdp_getMode"
                           A   530    
040E3D DDE5                A   531    	PUSH	IX
040E3F DD210000 00         A   532    	LD	IX,0
040E44 DD39                A   533    	ADD	IX,SP
                           A   534    ;   47		putch(23);
                           A   535    .LINE 47
                           A   536    
040E46 01170000            A   537    	LD	BC,23
040E4A C5                  A   538    	PUSH	BC
040E4B CD DA 18 04         A   539    	CALL	_putch
040E4F C1                  A   540    	POP	BC
                           A   541    ;   48		putch(0);
                           A   542    .LINE 48
                           A   543    
040E50 01000000            A   544    	LD	BC,0
040E54 C5                  A   545    	PUSH	BC
040E55 CD DA 18 04         A   546    	CALL	_putch
040E59 C1                  A   547    	POP	BC
                           A   548    ;   49		putch(0x86);
                           A   549    .LINE 49
                           A   550    
040E5A 01860000            A   551    	LD	BC,134
040E5E C5                  A   552    	PUSH	BC
040E5F CD DA 18 04         A   553    	CALL	_putch
040E63 C1                  A   554    	POP	BC
                           A   555    ;   50	}
                           A   556    .LINE 50
                           A   557    
040E64 DDF9                A   558    	LD	SP,IX
040E66 DDE1                A   559    	POP	IX
040E68 C9                  A   560    	RET	
                           A   561    
                           A   562    
                           A   563    ;**************************** _vdp_getMode ****
                           A   564    ;Name                         Addr/Register   S
                           A   565    ;_putch                              IMPORT  --
                           A   566    
                           A   567    
                           A   568    ; Stack Frame Size: 6 (bytes)
                           A   569    ;       Spill Code: 0 (instruction)
                           A   570    
                           A   571    
                           A   572    .ENDFUNC "vdp_getMode",50,"_vdp_getMode"
                           A   573    ;   51	
                           A   574    ;   52	void vdp_setPaletteColor(UINT8 index, U
040E69                     A   575    _vdp_setPaletteColor:
                           A   576    .DEFINE "_vdp_setPaletteColor"
                           A   577    
                           A   578    .VALUE _vdp_setPaletteColor
                           A   579    
                           A   580    .CLASS 2
                           A   581    
                           A   582    .TYPE 65
                           A   583    
                           A   584    .ENDEF
                           A   585    
                           A   586    .BEGFUNC "vdp_setPaletteColor",52,"_vdp_setPale
                           A   587    
                           A   588    .LINE 52
                           A   589    
                           A   590    .DEFINE "index"
                           A   591    
                           A   592    .CLASS 65
                           A   593    
                           A   594    .VALUE 6
                           A   595    
                           A   596    .TYPE 12
                           A   597    
                           A   598    .ENDEF
                           A   599    
                           A   600    .DEFINE "color"
                           A   601    
                           A   602    .CLASS 65
                           A   603    
                           A   604    .VALUE 9
                           A   605    
                           A   606    .TYPE 12
                           A   607    
                           A   608    .ENDEF
                           A   609    
                           A   610    .DEFINE "r"
                           A   611    
                           A   612    .CLASS 65
                           A   613    
                           A   614    .VALUE 12
                           A   615    
                           A   616    .TYPE 12
                           A   617    
                           A   618    .ENDEF
                           A   619    
                           A   620    .DEFINE "g"
                           A   621    
                           A   622    .CLASS 65
                           A   623    
                           A   624    .VALUE 15
                           A   625    
                           A   626    .TYPE 12
                           A   627    
                           A   628    .ENDEF
                           A   629    
                           A   630    .DEFINE "b"
                           A   631    
                           A   632    .CLASS 65
                           A   633    
                           A   634    .VALUE 18
                           A   635    
                           A   636    .TYPE 12
                           A   637    
                           A   638    .ENDEF
                           A   639    
040E69 DDE5                A   640    	PUSH	IX
040E6B DD210000 00         A   641    	LD	IX,0
040E70 DD39                A   642    	ADD	IX,SP
                           A   643    ;   53		putch(0x13); // VDU palette
                           A   644    .LINE 53
                           A   645    
040E72 01130000            A   646    	LD	BC,19
040E76 C5                  A   647    	PUSH	BC
040E77 CD DA 18 04         A   648    	CALL	_putch
040E7B C1                  A   649    	POP	BC
                           A   650    ;   54		putch(index);
                           A   651    .LINE 54
                           A   652    
040E7C DD7E06              A   653    	LD	A,(IX+%6)
040E7F B7ED62              A   654    	UEXT	HL
040E82 6F                  A   655    	LD	L,A
040E83 E5                  A   656    	PUSH	HL
040E84 CD DA 18 04         A   657    	CALL	_putch
040E88 C1                  A   658    	POP	BC
                           A   659    ;   55		putch(color); // 255 - set R/G/B co
                           A   660    .LINE 55
                           A   661    
040E89 DD7E09              A   662    	LD	A,(IX+%9)
040E8C B7ED62              A   663    	UEXT	HL
040E8F 6F                  A   664    	LD	L,A
040E90 E5                  A   665    	PUSH	HL
040E91 CD DA 18 04         A   666    	CALL	_putch
040E95 C1                  A   667    	POP	BC
                           A   668    ;   56		putch(r);
                           A   669    .LINE 56
                           A   670    
040E96 DD7E0C              A   671    	LD	A,(IX+%C)
040E99 B7ED62              A   672    	UEXT	HL
040E9C 6F                  A   673    	LD	L,A
040E9D E5                  A   674    	PUSH	HL
040E9E CD DA 18 04         A   675    	CALL	_putch
040EA2 C1                  A   676    	POP	BC
                           A   677    ;   57		putch(g);
                           A   678    .LINE 57
                           A   679    
040EA3 DD7E0F              A   680    	LD	A,(IX+%F)
040EA6 B7ED62              A   681    	UEXT	HL
040EA9 6F                  A   682    	LD	L,A
040EAA E5                  A   683    	PUSH	HL
040EAB CD DA 18 04         A   684    	CALL	_putch
040EAF C1                  A   685    	POP	BC
                           A   686    ;   58		putch(b);
                           A   687    .LINE 58
                           A   688    
040EB0 DD7E12              A   689    	LD	A,(IX+%12)
040EB3 B7ED62              A   690    	UEXT	HL
040EB6 6F                  A   691    	LD	L,A
040EB7 E5                  A   692    	PUSH	HL
040EB8 CD DA 18 04         A   693    	CALL	_putch
040EBC C1                  A   694    	POP	BC
                           A   695    ;   59	}
                           A   696    .LINE 59
                           A   697    
040EBD DDF9                A   698    	LD	SP,IX
040EBF DDE1                A   699    	POP	IX
040EC1 C9                  A   700    	RET	
                           A   701    
                           A   702    
                           A   703    ;**************************** _vdp_setPaletteCo
                           A   704    ;Name                         Addr/Register   S
                           A   705    ;_putch                              IMPORT  --
                           A   706    ;b                                    IX+18    
                           A   707    ;g                                    IX+15    
                           A   708    ;r                                    IX+12    
                           A   709    ;color                                 IX+9    
                           A   710    ;index                                 IX+6    
                           A   711    
                           A   712    
                           A   713    ; Stack Frame Size: 21 (bytes)
                           A   714    ;       Spill Code: 0 (instruction)
                           A   715    
                           A   716    
                           A   717    .ENDFUNC "vdp_setPaletteColor",59,"_vdp_setPale
                           A   718    ;   60	
                           A   719    ;   61	// Text functions
                           A   720    ;   62	void vdp_cls()
                           A   721    ;   63	{
040EC2                     A   722    _vdp_cls:
                           A   723    .DEFINE "_vdp_cls"
                           A   724    
                           A   725    .VALUE _vdp_cls
                           A   726    
                           A   727    .CLASS 2
                           A   728    
                           A   729    .TYPE 65
                           A   730    
                           A   731    .ENDEF
                           A   732    
                           A   733    .BEGFUNC "vdp_cls",63,"_vdp_cls"
                           A   734    
040EC2 DDE5                A   735    	PUSH	IX
040EC4 DD210000 00         A   736    	LD	IX,0
040EC9 DD39                A   737    	ADD	IX,SP
                           A   738    ;   64	    putch(12);
                           A   739    .LINE 64
                           A   740    
040ECB 010C0000            A   741    	LD	BC,12
040ECF C5                  A   742    	PUSH	BC
040ED0 CD DA 18 04         A   743    	CALL	_putch
040ED4 C1                  A   744    	POP	BC
                           A   745    ;   65	}
                           A   746    .LINE 65
                           A   747    
040ED5 DDF9                A   748    	LD	SP,IX
040ED7 DDE1                A   749    	POP	IX
040ED9 C9                  A   750    	RET	
                           A   751    
                           A   752    
                           A   753    ;**************************** _vdp_cls ********
                           A   754    ;Name                         Addr/Register   S
                           A   755    ;_putch                              IMPORT  --
                           A   756    
                           A   757    
                           A   758    ; Stack Frame Size: 6 (bytes)
                           A   759    ;       Spill Code: 0 (instruction)
                           A   760    
                           A   761    
                           A   762    .ENDFUNC "vdp_cls",65,"_vdp_cls"
                           A   763    ;   66	
                           A   764    ;   67	void vdp_cursorHome()
                           A   765    ;   68	{
040EDA                     A   766    _vdp_cursorHome:
                           A   767    .DEFINE "_vdp_cursorHome"
                           A   768    
                           A   769    .VALUE _vdp_cursorHome
                           A   770    
                           A   771    .CLASS 2
                           A   772    
                           A   773    .TYPE 65
                           A   774    
                           A   775    .ENDEF
                           A   776    
                           A   777    .BEGFUNC "vdp_cursorHome",68,"_vdp_cursorHome"
                           A   778    
040EDA DDE5                A   779    	PUSH	IX
040EDC DD210000 00         A   780    	LD	IX,0
040EE1 DD39                A   781    	ADD	IX,SP
                           A   782    ;   69	    putch(30);
                           A   783    .LINE 69
                           A   784    
040EE3 011E0000            A   785    	LD	BC,30
040EE7 C5                  A   786    	PUSH	BC
040EE8 CD DA 18 04         A   787    	CALL	_putch
040EEC C1                  A   788    	POP	BC
                           A   789    ;   70	}
                           A   790    .LINE 70
                           A   791    
040EED DDF9                A   792    	LD	SP,IX
040EEF DDE1                A   793    	POP	IX
040EF1 C9                  A   794    	RET	
                           A   795    
                           A   796    
                           A   797    ;**************************** _vdp_cursorHome *
                           A   798    ;Name                         Addr/Register   S
                           A   799    ;_putch                              IMPORT  --
                           A   800    
                           A   801    
                           A   802    ; Stack Frame Size: 6 (bytes)
                           A   803    ;       Spill Code: 0 (instruction)
                           A   804    
                           A   805    
                           A   806    .ENDFUNC "vdp_cursorHome",70,"_vdp_cursorHome"
                           A   807    ;   71	
                           A   808    ;   72	void vdp_cursorUp()
                           A   809    ;   73	{
040EF2                     A   810    _vdp_cursorUp:
                           A   811    .DEFINE "_vdp_cursorUp"
                           A   812    
                           A   813    .VALUE _vdp_cursorUp
                           A   814    
                           A   815    .CLASS 2
                           A   816    
                           A   817    .TYPE 65
                           A   818    
                           A   819    .ENDEF
                           A   820    
                           A   821    .BEGFUNC "vdp_cursorUp",73,"_vdp_cursorUp"
                           A   822    
040EF2 DDE5                A   823    	PUSH	IX
040EF4 DD210000 00         A   824    	LD	IX,0
040EF9 DD39                A   825    	ADD	IX,SP
                           A   826    ;   74	    putch(11);
                           A   827    .LINE 74
                           A   828    
040EFB 010B0000            A   829    	LD	BC,11
040EFF C5                  A   830    	PUSH	BC
040F00 CD DA 18 04         A   831    	CALL	_putch
040F04 C1                  A   832    	POP	BC
                           A   833    ;   75	}
                           A   834    .LINE 75
                           A   835    
040F05 DDF9                A   836    	LD	SP,IX
040F07 DDE1                A   837    	POP	IX
040F09 C9                  A   838    	RET	
                           A   839    
                           A   840    
                           A   841    ;**************************** _vdp_cursorUp ***
                           A   842    ;Name                         Addr/Register   S
                           A   843    ;_putch                              IMPORT  --
                           A   844    
                           A   845    
                           A   846    ; Stack Frame Size: 6 (bytes)
                           A   847    ;       Spill Code: 0 (instruction)
                           A   848    
                           A   849    
                           A   850    .ENDFUNC "vdp_cursorUp",75,"_vdp_cursorUp"
                           A   851    ;   76	
                           A   852    ;   77	void vdp_cursorGoto(unsigned char x, un
                           A   853    ;   78	{
040F0A                     A   854    _vdp_cursorGoto:
                           A   855    .DEFINE "_vdp_cursorGoto"
                           A   856    
                           A   857    .VALUE _vdp_cursorGoto
                           A   858    
                           A   859    .CLASS 2
                           A   860    
                           A   861    .TYPE 65
                           A   862    
                           A   863    .ENDEF
                           A   864    
                           A   865    .BEGFUNC "vdp_cursorGoto",78,"_vdp_cursorGoto"
                           A   866    
                           A   867    .LINE 78
                           A   868    
                           A   869    .DEFINE "x"
                           A   870    
                           A   871    .CLASS 65
                           A   872    
                           A   873    .VALUE 6
                           A   874    
                           A   875    .TYPE 12
                           A   876    
                           A   877    .ENDEF
                           A   878    
                           A   879    .DEFINE "y"
                           A   880    
                           A   881    .CLASS 65
                           A   882    
                           A   883    .VALUE 9
                           A   884    
                           A   885    .TYPE 12
                           A   886    
                           A   887    .ENDEF
                           A   888    
040F0A DDE5                A   889    	PUSH	IX
040F0C DD210000 00         A   890    	LD	IX,0
040F11 DD39                A   891    	ADD	IX,SP
                           A   892    ;   79	    putch(31); // TAB
                           A   893    .LINE 79
                           A   894    
040F13 011F0000            A   895    	LD	BC,31
040F17 C5                  A   896    	PUSH	BC
040F18 CD DA 18 04         A   897    	CALL	_putch
040F1C C1                  A   898    	POP	BC
                           A   899    ;   80	    putch(x);
                           A   900    .LINE 80
                           A   901    
040F1D DD7E06              A   902    	LD	A,(IX+%6)
040F20 B7ED62              A   903    	UEXT	HL
040F23 6F                  A   904    	LD	L,A
040F24 E5                  A   905    	PUSH	HL
040F25 CD DA 18 04         A   906    	CALL	_putch
040F29 C1                  A   907    	POP	BC
                           A   908    ;   81	    putch(y);
                           A   909    .LINE 81
                           A   910    
040F2A DD7E09              A   911    	LD	A,(IX+%9)
040F2D B7ED62              A   912    	UEXT	HL
040F30 6F                  A   913    	LD	L,A
040F31 E5                  A   914    	PUSH	HL
040F32 CD DA 18 04         A   915    	CALL	_putch
040F36 C1                  A   916    	POP	BC
                           A   917    ;   82	}
                           A   918    .LINE 82
                           A   919    
040F37 DDF9                A   920    	LD	SP,IX
040F39 DDE1                A   921    	POP	IX
040F3B C9                  A   922    	RET	
                           A   923    
                           A   924    
                           A   925    ;**************************** _vdp_cursorGoto *
                           A   926    ;Name                         Addr/Register   S
                           A   927    ;_putch                              IMPORT  --
                           A   928    ;y                                     IX+9    
                           A   929    ;x                                     IX+6    
                           A   930    
                           A   931    
                           A   932    ; Stack Frame Size: 12 (bytes)
                           A   933    ;       Spill Code: 0 (instruction)
                           A   934    
                           A   935    
                           A   936    .ENDFUNC "vdp_cursorGoto",82,"_vdp_cursorGoto"
                           A   937    ;   83	
                           A   938    ;   84	void vdp_fgcolour(unsigned char colorin
040F3C                     A   939    _vdp_fgcolour:
                           A   940    .DEFINE "_vdp_fgcolour"
                           A   941    
                           A   942    .VALUE _vdp_fgcolour
                           A   943    
                           A   944    .CLASS 2
                           A   945    
                           A   946    .TYPE 65
                           A   947    
                           A   948    .ENDEF
                           A   949    
                           A   950    .BEGFUNC "vdp_fgcolour",84,"_vdp_fgcolour"
                           A   951    
                           A   952    .LINE 84
                           A   953    
                           A   954    .DEFINE "colorindex"
                           A   955    
                           A   956    .CLASS 65
                           A   957    
                           A   958    .VALUE 6
                           A   959    
                           A   960    .TYPE 12
                           A   961    
                           A   962    .ENDEF
                           A   963    
040F3C DDE5                A   964    	PUSH	IX
040F3E DD210000 00         A   965    	LD	IX,0
040F43 DD39                A   966    	ADD	IX,SP
                           A   967    ;   85		putch(17); // COLOUR
                           A   968    .LINE 85
                           A   969    
040F45 01110000            A   970    	LD	BC,17
040F49 C5                  A   971    	PUSH	BC
040F4A CD DA 18 04         A   972    	CALL	_putch
040F4E C1                  A   973    	POP	BC
                           A   974    ;   86		putch(colorindex);	
                           A   975    .LINE 86
                           A   976    
040F4F DD7E06              A   977    	LD	A,(IX+%6)
040F52 B7ED62              A   978    	UEXT	HL
040F55 6F                  A   979    	LD	L,A
040F56 E5                  A   980    	PUSH	HL
040F57 CD DA 18 04         A   981    	CALL	_putch
040F5B C1                  A   982    	POP	BC
                           A   983    ;   87	}
                           A   984    .LINE 87
                           A   985    
040F5C DDF9                A   986    	LD	SP,IX
040F5E DDE1                A   987    	POP	IX
040F60 C9                  A   988    	RET	
                           A   989    
                           A   990    
                           A   991    ;**************************** _vdp_fgcolour ***
                           A   992    ;Name                         Addr/Register   S
                           A   993    ;_putch                              IMPORT  --
                           A   994    ;colorindex                            IX+6    
                           A   995    
                           A   996    
                           A   997    ; Stack Frame Size: 9 (bytes)
                           A   998    ;       Spill Code: 0 (instruction)
                           A   999    
                           A  1000    
                           A  1001    .ENDFUNC "vdp_fgcolour",87,"_vdp_fgcolour"
                           A  1002    ;   88	
                           A  1003    ;   89	void vdp_bgcolour(unsigned char colorin
040F61                     A  1004    _vdp_bgcolour:
                           A  1005    .DEFINE "_vdp_bgcolour"
                           A  1006    
                           A  1007    .VALUE _vdp_bgcolour
                           A  1008    
                           A  1009    .CLASS 2
                           A  1010    
                           A  1011    .TYPE 65
                           A  1012    
                           A  1013    .ENDEF
                           A  1014    
                           A  1015    .BEGFUNC "vdp_bgcolour",89,"_vdp_bgcolour"
                           A  1016    
                           A  1017    .LINE 89
                           A  1018    
                           A  1019    .DEFINE "colorindex"
                           A  1020    
                           A  1021    .CLASS 65
                           A  1022    
                           A  1023    .VALUE 6
                           A  1024    
                           A  1025    .TYPE 12
                           A  1026    
                           A  1027    .ENDEF
                           A  1028    
040F61 DDE5                A  1029    	PUSH	IX
040F63 DD210000 00         A  1030    	LD	IX,0
040F68 DD39                A  1031    	ADD	IX,SP
                           A  1032    ;   90		putch(17); // COLOUR
                           A  1033    .LINE 90
                           A  1034    
040F6A 01110000            A  1035    	LD	BC,17
040F6E C5                  A  1036    	PUSH	BC
040F6F CD DA 18 04         A  1037    	CALL	_putch
040F73 C1                  A  1038    	POP	BC
                           A  1039    ;   91		putch(colorindex | 0x80);	
                           A  1040    .LINE 91
                           A  1041    
040F74 DD7E06              A  1042    	LD	A,(IX+%6)
040F77 B7ED62              A  1043    	UEXT	HL
040F7A 6F                  A  1044    	LD	L,A
040F7B 01800000            A  1045    	LD	BC,128
040F7F CD 21 20 04         A  1046    	CALL	__ior
040F83 E5                  A  1047    	PUSH	HL
040F84 CD DA 18 04         A  1048    	CALL	_putch
040F88 C1                  A  1049    	POP	BC
                           A  1050    ;   92	}
                           A  1051    .LINE 92
                           A  1052    
040F89 DDF9                A  1053    	LD	SP,IX
040F8B DDE1                A  1054    	POP	IX
040F8D C9                  A  1055    	RET	
                           A  1056    
                           A  1057    
                           A  1058    ;**************************** _vdp_bgcolour ***
                           A  1059    ;Name                         Addr/Register   S
                           A  1060    ;_putch                              IMPORT  --
                           A  1061    ;colorindex                            IX+6    
                           A  1062    
                           A  1063    
                           A  1064    ; Stack Frame Size: 9 (bytes)
                           A  1065    ;       Spill Code: 0 (instruction)
                           A  1066    
                           A  1067    
                           A  1068    .ENDFUNC "vdp_bgcolour",92,"_vdp_bgcolour"
                           A  1069    ;   93	
                           A  1070    ;   94	//
                           A  1071    ;   95	// Graphics functions
                           A  1072    ;   96	//
                           A  1073    ;   97	
                           A  1074    ;   98	void vdp_clearGraphics()
                           A  1075    ;   99	{
040F8E                     A  1076    _vdp_clearGraphics:
                           A  1077    .DEFINE "_vdp_clearGraphics"
                           A  1078    
                           A  1079    .VALUE _vdp_clearGraphics
                           A  1080    
                           A  1081    .CLASS 2
                           A  1082    
                           A  1083    .TYPE 65
                           A  1084    
                           A  1085    .ENDEF
                           A  1086    
                           A  1087    .BEGFUNC "vdp_clearGraphics",99,"_vdp_clearGrap
                           A  1088    
040F8E DDE5                A  1089    	PUSH	IX
040F90 DD210000 00         A  1090    	LD	IX,0
040F95 DD39                A  1091    	ADD	IX,SP
                           A  1092    ;  100	    putch(16);    
                           A  1093    .LINE 100
                           A  1094    
040F97 01100000            A  1095    	LD	BC,16
040F9B C5                  A  1096    	PUSH	BC
040F9C CD DA 18 04         A  1097    	CALL	_putch
040FA0 C1                  A  1098    	POP	BC
                           A  1099    ;  101	}
                           A  1100    .LINE 101
                           A  1101    
040FA1 DDF9                A  1102    	LD	SP,IX
040FA3 DDE1                A  1103    	POP	IX
040FA5 C9                  A  1104    	RET	
                           A  1105    
                           A  1106    
                           A  1107    ;**************************** _vdp_clearGraphic
                           A  1108    ;Name                         Addr/Register   S
                           A  1109    ;_putch                              IMPORT  --
                           A  1110    
                           A  1111    
                           A  1112    ; Stack Frame Size: 6 (bytes)
                           A  1113    ;       Spill Code: 0 (instruction)
                           A  1114    
                           A  1115    
                           A  1116    .ENDFUNC "vdp_clearGraphics",101,"_vdp_clearGra
                           A  1117    ;  102	
                           A  1118    ;  103	void vdp_plotColour(unsigned char color
                           A  1119    ;  104	{
040FA6                     A  1120    _vdp_plotColour:
                           A  1121    .DEFINE "_vdp_plotColour"
                           A  1122    
                           A  1123    .VALUE _vdp_plotColour
                           A  1124    
                           A  1125    .CLASS 2
                           A  1126    
                           A  1127    .TYPE 65
                           A  1128    
                           A  1129    .ENDEF
                           A  1130    
                           A  1131    .BEGFUNC "vdp_plotColour",104,"_vdp_plotColour"
                           A  1132    
                           A  1133    .LINE 104
                           A  1134    
                           A  1135    .DEFINE "colorindex"
                           A  1136    
                           A  1137    .CLASS 65
                           A  1138    
                           A  1139    .VALUE 6
                           A  1140    
                           A  1141    .TYPE 12
                           A  1142    
                           A  1143    .ENDEF
                           A  1144    
040FA6 DDE5                A  1145    	PUSH	IX
040FA8 DD210000 00         A  1146    	LD	IX,0
040FAD DD39                A  1147    	ADD	IX,SP
                           A  1148    ;  105	    putch(18); // GCOL
                           A  1149    .LINE 105
                           A  1150    
040FAF 01120000            A  1151    	LD	BC,18
040FB3 C5                  A  1152    	PUSH	BC
040FB4 CD DA 18 04         A  1153    	CALL	_putch
040FB8 C1                  A  1154    	POP	BC
                           A  1155    ;  106	    putch(1);
                           A  1156    .LINE 106
                           A  1157    
040FB9 01010000            A  1158    	LD	BC,1
040FBD C5                  A  1159    	PUSH	BC
040FBE CD DA 18 04         A  1160    	CALL	_putch
040FC2 C1                  A  1161    	POP	BC
                           A  1162    ;  107		putch(colorindex);
                           A  1163    .LINE 107
                           A  1164    
040FC3 DD7E06              A  1165    	LD	A,(IX+%6)
040FC6 B7ED62              A  1166    	UEXT	HL
040FC9 6F                  A  1167    	LD	L,A
040FCA E5                  A  1168    	PUSH	HL
040FCB CD DA 18 04         A  1169    	CALL	_putch
040FCF C1                  A  1170    	POP	BC
                           A  1171    ;  108	}
                           A  1172    .LINE 108
                           A  1173    
040FD0 DDF9                A  1174    	LD	SP,IX
040FD2 DDE1                A  1175    	POP	IX
040FD4 C9                  A  1176    	RET	
                           A  1177    
                           A  1178    
                           A  1179    ;**************************** _vdp_plotColour *
                           A  1180    ;Name                         Addr/Register   S
                           A  1181    ;_putch                              IMPORT  --
                           A  1182    ;colorindex                            IX+6    
                           A  1183    
                           A  1184    
                           A  1185    ; Stack Frame Size: 9 (bytes)
                           A  1186    ;       Spill Code: 0 (instruction)
                           A  1187    
                           A  1188    
                           A  1189    .ENDFUNC "vdp_plotColour",108,"_vdp_plotColour"
                           A  1190    ;  109	
                           A  1191    ;  110	// internal function
                           A  1192    ;  111	void vdp_plot(unsigned char mode, unsig
                           A  1193    ;  112	{
040FD5                     A  1194    _vdp_plot:
                           A  1195    .DEFINE "_vdp_plot"
                           A  1196    
                           A  1197    .VALUE _vdp_plot
                           A  1198    
                           A  1199    .CLASS 2
                           A  1200    
                           A  1201    .TYPE 65
                           A  1202    
                           A  1203    .ENDEF
                           A  1204    
                           A  1205    .BEGFUNC "vdp_plot",112,"_vdp_plot"
                           A  1206    
                           A  1207    .LINE 112
                           A  1208    
                           A  1209    .DEFINE "mode"
                           A  1210    
                           A  1211    .CLASS 65
                           A  1212    
                           A  1213    .VALUE 6
                           A  1214    
                           A  1215    .TYPE 12
                           A  1216    
                           A  1217    .ENDEF
                           A  1218    
                           A  1219    .DEFINE "x"
                           A  1220    
                           A  1221    .CLASS 65
                           A  1222    
                           A  1223    .VALUE 9
                           A  1224    
                           A  1225    .TYPE 14
                           A  1226    
                           A  1227    .ENDEF
                           A  1228    
                           A  1229    .DEFINE "y"
                           A  1230    
                           A  1231    .CLASS 65
                           A  1232    
                           A  1233    .VALUE 12
                           A  1234    
                           A  1235    .TYPE 14
                           A  1236    
                           A  1237    .ENDEF
                           A  1238    
040FD5 DDE5                A  1239    	PUSH	IX
040FD7 DD210000 00         A  1240    	LD	IX,0
040FDC DD39                A  1241    	ADD	IX,SP
040FDE 3B                  A  1242    	DEC	SP
                           A  1243    ;  113	    putch(25); // PLOT
                           A  1244    .LINE 113
                           A  1245    
040FDF 01190000            A  1246    	LD	BC,25
040FE3 C5                  A  1247    	PUSH	BC
040FE4 CD DA 18 04         A  1248    	CALL	_putch
040FE8 C1                  A  1249    	POP	BC
                           A  1250    ;  114	    putch(mode);
                           A  1251    .LINE 114
                           A  1252    
040FE9 DD7E06              A  1253    	LD	A,(IX+%6)
040FEC B7ED62              A  1254    	UEXT	HL
040FEF 6F                  A  1255    	LD	L,A
040FF0 E5                  A  1256    	PUSH	HL
040FF1 CD DA 18 04         A  1257    	CALL	_putch
040FF5 C1                  A  1258    	POP	BC
                           A  1259    ;  115	    putch(x & 0xFF);
                           A  1260    .LINE 115
                           A  1261    
040FF6 DD7E09              A  1262    	LD	A,(IX+%9)
040FF9 B7ED62              A  1263    	UEXT	HL
040FFC 6F                  A  1264    	LD	L,A
040FFD E5                  A  1265    	PUSH	HL
040FFE DD77FF              A  1266    	LD	(IX+%FFFFFFFF),A
041001 CD DA 18 04         A  1267    	CALL	_putch
041005 DD7EFF              A  1268    	LD	A,(IX+%FFFFFFFF)
041008 C1                  A  1269    	POP	BC
                           A  1270    ;  116	    putch(x >> 8);
                           A  1271    .LINE 116
                           A  1272    
041009 B7ED62              A  1273    	UEXT	HL
04100C E5                  A  1274    	PUSH	HL
04100D DD2709              A  1275    	LD	HL,(IX+%9)
041010 E5                  A  1276    	PUSH	HL
041011 33                  A  1277    	INC	SP
041012 E1                  A  1278    	POP	HL
041013 33                  A  1279    	INC	SP
041014 33                  A  1280    	INC	SP
041015 E5                  A  1281    	PUSH	HL
041016 CD DA 18 04         A  1282    	CALL	_putch
04101A C1                  A  1283    	POP	BC
                           A  1284    ;  117	    putch(y & 0xFF);
                           A  1285    .LINE 117
                           A  1286    
04101B DD7E0C              A  1287    	LD	A,(IX+%C)
04101E B7ED62              A  1288    	UEXT	HL
041021 6F                  A  1289    	LD	L,A
041022 E5                  A  1290    	PUSH	HL
041023 DD77FF              A  1291    	LD	(IX+%FFFFFFFF),A
041026 CD DA 18 04         A  1292    	CALL	_putch
04102A DD7EFF              A  1293    	LD	A,(IX+%FFFFFFFF)
04102D C1                  A  1294    	POP	BC
                           A  1295    ;  118	    putch(y >> 8);
                           A  1296    .LINE 118
                           A  1297    
04102E B7ED62              A  1298    	UEXT	HL
041031 E5                  A  1299    	PUSH	HL
041032 DD270C              A  1300    	LD	HL,(IX+%C)
041035 E5                  A  1301    	PUSH	HL
041036 33                  A  1302    	INC	SP
041037 E1                  A  1303    	POP	HL
041038 33                  A  1304    	INC	SP
041039 33                  A  1305    	INC	SP
04103A E5                  A  1306    	PUSH	HL
04103B CD DA 18 04         A  1307    	CALL	_putch
04103F C1                  A  1308    	POP	BC
                           A  1309    ;  119	}
                           A  1310    .LINE 119
                           A  1311    
041040 DDF9                A  1312    	LD	SP,IX
041042 DDE1                A  1313    	POP	IX
041044 C9                  A  1314    	RET	
                           A  1315    
                           A  1316    
                           A  1317    ;**************************** _vdp_plot *******
                           A  1318    ;Name                         Addr/Register   S
                           A  1319    ;_putch                              IMPORT  --
                           A  1320    ;y                                    IX+12    
                           A  1321    ;x                                     IX+9    
                           A  1322    ;mode                                  IX+6    
                           A  1323    
                           A  1324    
                           A  1325    ; Stack Frame Size: 16 (bytes)
                           A  1326    ;       Spill Code: 0 (instruction)
                           A  1327    
                           A  1328    
                           A  1329    .ENDFUNC "vdp_plot",119,"_vdp_plot"
                           A  1330    ;  120	
                           A  1331    ;  121	void vdp_plotMoveTo(unsigned int x, uns
                           A  1332    ;  122	{
041045                     A  1333    _vdp_plotMoveTo:
                           A  1334    .DEFINE "_vdp_plotMoveTo"
                           A  1335    
                           A  1336    .VALUE _vdp_plotMoveTo
                           A  1337    
                           A  1338    .CLASS 2
                           A  1339    
                           A  1340    .TYPE 65
                           A  1341    
                           A  1342    .ENDEF
                           A  1343    
                           A  1344    .BEGFUNC "vdp_plotMoveTo",122,"_vdp_plotMoveTo"
                           A  1345    
                           A  1346    .LINE 122
                           A  1347    
                           A  1348    .DEFINE "x"
                           A  1349    
                           A  1350    .CLASS 65
                           A  1351    
                           A  1352    .VALUE 6
                           A  1353    
                           A  1354    .TYPE 14
                           A  1355    
                           A  1356    .ENDEF
                           A  1357    
                           A  1358    .DEFINE "y"
                           A  1359    
                           A  1360    .CLASS 65
                           A  1361    
                           A  1362    .VALUE 9
                           A  1363    
                           A  1364    .TYPE 14
                           A  1365    
                           A  1366    .ENDEF
                           A  1367    
041045 DDE5                A  1368    	PUSH	IX
041047 DD210000 00         A  1369    	LD	IX,0
04104C DD39                A  1370    	ADD	IX,SP
                           A  1371    ;  123		vdp_plot(0x04,x,y);
                           A  1372    .LINE 123
                           A  1373    
04104E DD0709              A  1374    	LD	BC,(IX+%9)
041051 C5                  A  1375    	PUSH	BC
041052 DD0706              A  1376    	LD	BC,(IX+%6)
041055 C5                  A  1377    	PUSH	BC
041056 01040000            A  1378    	LD	BC,4
04105A C5                  A  1379    	PUSH	BC
04105B CD D5 0F 04         A  1380    	CALL	_vdp_plot
04105F C1                  A  1381    	POP	BC
041060 C1                  A  1382    	POP	BC
041061 C1                  A  1383    	POP	BC
                           A  1384    ;  124	}
                           A  1385    .LINE 124
                           A  1386    
041062 DDF9                A  1387    	LD	SP,IX
041064 DDE1                A  1388    	POP	IX
041066 C9                  A  1389    	RET	
                           A  1390    
                           A  1391    
                           A  1392    ;**************************** _vdp_plotMoveTo *
                           A  1393    ;Name                         Addr/Register   S
                           A  1394    ;y                                     IX+9    
                           A  1395    ;x                                     IX+6    
                           A  1396    
                           A  1397    
                           A  1398    ; Stack Frame Size: 12 (bytes)
                           A  1399    ;       Spill Code: 0 (instruction)
                           A  1400    
                           A  1401    
                           A  1402    .ENDFUNC "vdp_plotMoveTo",124,"_vdp_plotMoveTo"
                           A  1403    ;  125	
                           A  1404    ;  126	void vdp_plotLineTo(unsigned int x, uns
                           A  1405    ;  127	{
041067                     A  1406    _vdp_plotLineTo:
                           A  1407    .DEFINE "_vdp_plotLineTo"
                           A  1408    
                           A  1409    .VALUE _vdp_plotLineTo
                           A  1410    
                           A  1411    .CLASS 2
                           A  1412    
                           A  1413    .TYPE 65
                           A  1414    
                           A  1415    .ENDEF
                           A  1416    
                           A  1417    .BEGFUNC "vdp_plotLineTo",127,"_vdp_plotLineTo"
                           A  1418    
                           A  1419    .LINE 127
                           A  1420    
                           A  1421    .DEFINE "x"
                           A  1422    
                           A  1423    .CLASS 65
                           A  1424    
                           A  1425    .VALUE 6
                           A  1426    
                           A  1427    .TYPE 14
                           A  1428    
                           A  1429    .ENDEF
                           A  1430    
                           A  1431    .DEFINE "y"
                           A  1432    
                           A  1433    .CLASS 65
                           A  1434    
                           A  1435    .VALUE 9
                           A  1436    
                           A  1437    .TYPE 14
                           A  1438    
                           A  1439    .ENDEF
                           A  1440    
041067 DDE5                A  1441    	PUSH	IX
041069 DD210000 00         A  1442    	LD	IX,0
04106E DD39                A  1443    	ADD	IX,SP
                           A  1444    ;  128		vdp_plot(0x05,x,y);
                           A  1445    .LINE 128
                           A  1446    
041070 DD0709              A  1447    	LD	BC,(IX+%9)
041073 C5                  A  1448    	PUSH	BC
041074 DD0706              A  1449    	LD	BC,(IX+%6)
041077 C5                  A  1450    	PUSH	BC
041078 01050000            A  1451    	LD	BC,5
04107C C5                  A  1452    	PUSH	BC
04107D CD D5 0F 04         A  1453    	CALL	_vdp_plot
041081 C1                  A  1454    	POP	BC
041082 C1                  A  1455    	POP	BC
041083 C1                  A  1456    	POP	BC
                           A  1457    ;  129	}
                           A  1458    .LINE 129
                           A  1459    
041084 DDF9                A  1460    	LD	SP,IX
041086 DDE1                A  1461    	POP	IX
041088 C9                  A  1462    	RET	
                           A  1463    
                           A  1464    
                           A  1465    ;**************************** _vdp_plotLineTo *
                           A  1466    ;Name                         Addr/Register   S
                           A  1467    ;y                                     IX+9    
                           A  1468    ;x                                     IX+6    
                           A  1469    
                           A  1470    
                           A  1471    ; Stack Frame Size: 12 (bytes)
                           A  1472    ;       Spill Code: 0 (instruction)
                           A  1473    
                           A  1474    
                           A  1475    .ENDFUNC "vdp_plotLineTo",129,"_vdp_plotLineTo"
                           A  1476    ;  130	
                           A  1477    ;  131	void vdp_plotPoint(unsigned int x, unsi
                           A  1478    ;  132	{
041089                     A  1479    _vdp_plotPoint:
                           A  1480    .DEFINE "_vdp_plotPoint"
                           A  1481    
                           A  1482    .VALUE _vdp_plotPoint
                           A  1483    
                           A  1484    .CLASS 2
                           A  1485    
                           A  1486    .TYPE 65
                           A  1487    
                           A  1488    .ENDEF
                           A  1489    
                           A  1490    .BEGFUNC "vdp_plotPoint",132,"_vdp_plotPoint"
                           A  1491    
                           A  1492    .LINE 132
                           A  1493    
                           A  1494    .DEFINE "x"
                           A  1495    
                           A  1496    .CLASS 65
                           A  1497    
                           A  1498    .VALUE 6
                           A  1499    
                           A  1500    .TYPE 14
                           A  1501    
                           A  1502    .ENDEF
                           A  1503    
                           A  1504    .DEFINE "y"
                           A  1505    
                           A  1506    .CLASS 65
                           A  1507    
                           A  1508    .VALUE 9
                           A  1509    
                           A  1510    .TYPE 14
                           A  1511    
                           A  1512    .ENDEF
                           A  1513    
041089 DDE5                A  1514    	PUSH	IX
04108B DD210000 00         A  1515    	LD	IX,0
041090 DD39                A  1516    	ADD	IX,SP
                           A  1517    ;  133		vdp_plot(0x40,x,y);
                           A  1518    .LINE 133
                           A  1519    
041092 DD0709              A  1520    	LD	BC,(IX+%9)
041095 C5                  A  1521    	PUSH	BC
041096 DD0706              A  1522    	LD	BC,(IX+%6)
041099 C5                  A  1523    	PUSH	BC
04109A 01400000            A  1524    	LD	BC,64
04109E C5                  A  1525    	PUSH	BC
04109F CD D5 0F 04         A  1526    	CALL	_vdp_plot
0410A3 C1                  A  1527    	POP	BC
0410A4 C1                  A  1528    	POP	BC
0410A5 C1                  A  1529    	POP	BC
                           A  1530    ;  134	}
                           A  1531    .LINE 134
                           A  1532    
0410A6 DDF9                A  1533    	LD	SP,IX
0410A8 DDE1                A  1534    	POP	IX
0410AA C9                  A  1535    	RET	
                           A  1536    
                           A  1537    
                           A  1538    ;**************************** _vdp_plotPoint **
                           A  1539    ;Name                         Addr/Register   S
                           A  1540    ;y                                     IX+9    
                           A  1541    ;x                                     IX+6    
                           A  1542    
                           A  1543    
                           A  1544    ; Stack Frame Size: 12 (bytes)
                           A  1545    ;       Spill Code: 0 (instruction)
                           A  1546    
                           A  1547    
                           A  1548    .ENDFUNC "vdp_plotPoint",134,"_vdp_plotPoint"
                           A  1549    ;  135	
                           A  1550    ;  136	void vdp_plotTriangle(unsigned int x, u
                           A  1551    ;  137	{
0410AB                     A  1552    _vdp_plotTriangle:
                           A  1553    .DEFINE "_vdp_plotTriangle"
                           A  1554    
                           A  1555    .VALUE _vdp_plotTriangle
                           A  1556    
                           A  1557    .CLASS 2
                           A  1558    
                           A  1559    .TYPE 65
                           A  1560    
                           A  1561    .ENDEF
                           A  1562    
                           A  1563    .BEGFUNC "vdp_plotTriangle",137,"_vdp_plotTrian
                           A  1564    
                           A  1565    .LINE 137
                           A  1566    
                           A  1567    .DEFINE "x"
                           A  1568    
                           A  1569    .CLASS 65
                           A  1570    
                           A  1571    .VALUE 6
                           A  1572    
                           A  1573    .TYPE 14
                           A  1574    
                           A  1575    .ENDEF
                           A  1576    
                           A  1577    .DEFINE "y"
                           A  1578    
                           A  1579    .CLASS 65
                           A  1580    
                           A  1581    .VALUE 9
                           A  1582    
                           A  1583    .TYPE 14
                           A  1584    
                           A  1585    .ENDEF
                           A  1586    
0410AB DDE5                A  1587    	PUSH	IX
0410AD DD210000 00         A  1588    	LD	IX,0
0410B2 DD39                A  1589    	ADD	IX,SP
                           A  1590    ;  138		vdp_plot(0x50,x,y);
                           A  1591    .LINE 138
                           A  1592    
0410B4 DD0709              A  1593    	LD	BC,(IX+%9)
0410B7 C5                  A  1594    	PUSH	BC
0410B8 DD0706              A  1595    	LD	BC,(IX+%6)
0410BB C5                  A  1596    	PUSH	BC
0410BC 01500000            A  1597    	LD	BC,80
0410C0 C5                  A  1598    	PUSH	BC
0410C1 CD D5 0F 04         A  1599    	CALL	_vdp_plot
0410C5 C1                  A  1600    	POP	BC
0410C6 C1                  A  1601    	POP	BC
0410C7 C1                  A  1602    	POP	BC
                           A  1603    ;  139	}
                           A  1604    .LINE 139
                           A  1605    
0410C8 DDF9                A  1606    	LD	SP,IX
0410CA DDE1                A  1607    	POP	IX
0410CC C9                  A  1608    	RET	
                           A  1609    
                           A  1610    
                           A  1611    ;**************************** _vdp_plotTriangle
                           A  1612    ;Name                         Addr/Register   S
                           A  1613    ;y                                     IX+9    
                           A  1614    ;x                                     IX+6    
                           A  1615    
                           A  1616    
                           A  1617    ; Stack Frame Size: 12 (bytes)
                           A  1618    ;       Spill Code: 0 (instruction)
                           A  1619    
                           A  1620    
                           A  1621    .ENDFUNC "vdp_plotTriangle",139,"_vdp_plotTrian
                           A  1622    ;  140	
                           A  1623    ;  141	void vdp_plotCircleRadius(unsigned int 
                           A  1624    ;  142	{
0410CD                     A  1625    _vdp_plotCircleRadius:
                           A  1626    .DEFINE "_vdp_plotCircleRadius"
                           A  1627    
                           A  1628    .VALUE _vdp_plotCircleRadius
                           A  1629    
                           A  1630    .CLASS 2
                           A  1631    
                           A  1632    .TYPE 65
                           A  1633    
                           A  1634    .ENDEF
                           A  1635    
                           A  1636    .BEGFUNC "vdp_plotCircleRadius",142,"_vdp_plotC
                           A  1637    
                           A  1638    .LINE 142
                           A  1639    
                           A  1640    .DEFINE "r"
                           A  1641    
                           A  1642    .CLASS 65
                           A  1643    
                           A  1644    .VALUE 6
                           A  1645    
                           A  1646    .TYPE 14
                           A  1647    
                           A  1648    .ENDEF
                           A  1649    
0410CD DDE5                A  1650    	PUSH	IX
0410CF DD210000 00         A  1651    	LD	IX,0
0410D4 DD39                A  1652    	ADD	IX,SP
                           A  1653    ;  143		vdp_plot(0x90,r,0);
                           A  1654    .LINE 143
                           A  1655    
0410D6 01000000            A  1656    	LD	BC,0
0410DA C5                  A  1657    	PUSH	BC
0410DB DD0706              A  1658    	LD	BC,(IX+%6)
0410DE C5                  A  1659    	PUSH	BC
0410DF 01900000            A  1660    	LD	BC,144
0410E3 C5                  A  1661    	PUSH	BC
0410E4 CD D5 0F 04         A  1662    	CALL	_vdp_plot
0410E8 C1                  A  1663    	POP	BC
0410E9 C1                  A  1664    	POP	BC
0410EA C1                  A  1665    	POP	BC
                           A  1666    ;  144	}
                           A  1667    .LINE 144
                           A  1668    
0410EB DDF9                A  1669    	LD	SP,IX
0410ED DDE1                A  1670    	POP	IX
0410EF C9                  A  1671    	RET	
                           A  1672    
                           A  1673    
                           A  1674    ;**************************** _vdp_plotCircleRa
                           A  1675    ;Name                         Addr/Register   S
                           A  1676    ;r                                     IX+6    
                           A  1677    
                           A  1678    
                           A  1679    ; Stack Frame Size: 9 (bytes)
                           A  1680    ;       Spill Code: 0 (instruction)
                           A  1681    
                           A  1682    
                           A  1683    .ENDFUNC "vdp_plotCircleRadius",144,"_vdp_plotC
                           A  1684    ;  145	
                           A  1685    ;  146	void vdp_plotCircleCircumference(unsign
                           A  1686    ;  147	{
0410F0                     A  1687    _vdp_plotCircleCircumference:
                           A  1688    .DEFINE "_vdp_plotCircleCircumference"
                           A  1689    
                           A  1690    .VALUE _vdp_plotCircleCircumference
                           A  1691    
                           A  1692    .CLASS 2
                           A  1693    
                           A  1694    .TYPE 65
                           A  1695    
                           A  1696    .ENDEF
                           A  1697    
                           A  1698    .BEGFUNC "vdp_plotCircleCircumference",147,"_vd
                           A  1699    
                           A  1700    .LINE 147
                           A  1701    
                           A  1702    .DEFINE "x"
                           A  1703    
                           A  1704    .CLASS 65
                           A  1705    
                           A  1706    .VALUE 6
                           A  1707    
                           A  1708    .TYPE 14
                           A  1709    
                           A  1710    .ENDEF
                           A  1711    
                           A  1712    .DEFINE "y"
                           A  1713    
                           A  1714    .CLASS 65
                           A  1715    
                           A  1716    .VALUE 9
                           A  1717    
                           A  1718    .TYPE 14
                           A  1719    
                           A  1720    .ENDEF
                           A  1721    
0410F0 DDE5                A  1722    	PUSH	IX
0410F2 DD210000 00         A  1723    	LD	IX,0
0410F7 DD39                A  1724    	ADD	IX,SP
                           A  1725    ;  148		vdp_plot(0x95,x,y);
                           A  1726    .LINE 148
                           A  1727    
0410F9 DD0709              A  1728    	LD	BC,(IX+%9)
0410FC C5                  A  1729    	PUSH	BC
0410FD DD0706              A  1730    	LD	BC,(IX+%6)
041100 C5                  A  1731    	PUSH	BC
041101 01950000            A  1732    	LD	BC,149
041105 C5                  A  1733    	PUSH	BC
041106 CD D5 0F 04         A  1734    	CALL	_vdp_plot
04110A C1                  A  1735    	POP	BC
04110B C1                  A  1736    	POP	BC
04110C C1                  A  1737    	POP	BC
                           A  1738    ;  149	}
                           A  1739    .LINE 149
                           A  1740    
04110D DDF9                A  1741    	LD	SP,IX
04110F DDE1                A  1742    	POP	IX
041111 C9                  A  1743    	RET	
                           A  1744    
                           A  1745    
                           A  1746    ;**************************** _vdp_plotCircleCi
                           A  1747    ;Name                         Addr/Register   S
                           A  1748    ;y                                     IX+9    
                           A  1749    ;x                                     IX+6    
                           A  1750    
                           A  1751    
                           A  1752    ; Stack Frame Size: 12 (bytes)
                           A  1753    ;       Spill Code: 0 (instruction)
                           A  1754    
                           A  1755    
                           A  1756    .ENDFUNC "vdp_plotCircleCircumference",149,"_vd
                           A  1757    ;  150	
                           A  1758    ;  151	void vdp_plotSetOrigin(unsigned int x, 
                           A  1759    ;  152	{
041112                     A  1760    _vdp_plotSetOrigin:
                           A  1761    .DEFINE "_vdp_plotSetOrigin"
                           A  1762    
                           A  1763    .VALUE _vdp_plotSetOrigin
                           A  1764    
                           A  1765    .CLASS 2
                           A  1766    
                           A  1767    .TYPE 65
                           A  1768    
                           A  1769    .ENDEF
                           A  1770    
                           A  1771    .BEGFUNC "vdp_plotSetOrigin",152,"_vdp_plotSetO
                           A  1772    
                           A  1773    .LINE 152
                           A  1774    
                           A  1775    .DEFINE "x"
                           A  1776    
                           A  1777    .CLASS 65
                           A  1778    
                           A  1779    .VALUE 6
                           A  1780    
                           A  1781    .TYPE 14
                           A  1782    
                           A  1783    .ENDEF
                           A  1784    
                           A  1785    .DEFINE "y"
                           A  1786    
                           A  1787    .CLASS 65
                           A  1788    
                           A  1789    .VALUE 9
                           A  1790    
                           A  1791    .TYPE 14
                           A  1792    
                           A  1793    .ENDEF
                           A  1794    
041112 DDE5                A  1795    	PUSH	IX
041114 DD210000 00         A  1796    	LD	IX,0
041119 DD39                A  1797    	ADD	IX,SP
04111B 3B                  A  1798    	DEC	SP
                           A  1799    ;  153	    putch(29); //Graphics ORIGIN
                           A  1800    .LINE 153
                           A  1801    
04111C 011D0000            A  1802    	LD	BC,29
041120 C5                  A  1803    	PUSH	BC
041121 CD DA 18 04         A  1804    	CALL	_putch
041125 C1                  A  1805    	POP	BC
                           A  1806    ;  154	    putch(x & 0xF);
                           A  1807    .LINE 154
                           A  1808    
041126 DD7E06              A  1809    	LD	A,(IX+%6)
041129 E60F                A  1810    	AND	A,%F
04112B B7ED62              A  1811    	UEXT	HL
04112E 6F                  A  1812    	LD	L,A
04112F E5                  A  1813    	PUSH	HL
041130 DD77FF              A  1814    	LD	(IX+%FFFFFFFF),A
041133 CD DA 18 04         A  1815    	CALL	_putch
041137 DD7EFF              A  1816    	LD	A,(IX+%FFFFFFFF)
04113A C1                  A  1817    	POP	BC
                           A  1818    ;  155	    putch(x >> 8);
                           A  1819    .LINE 155
                           A  1820    
04113B B7ED62              A  1821    	UEXT	HL
04113E E5                  A  1822    	PUSH	HL
04113F DD2706              A  1823    	LD	HL,(IX+%6)
041142 E5                  A  1824    	PUSH	HL
041143 33                  A  1825    	INC	SP
041144 E1                  A  1826    	POP	HL
041145 33                  A  1827    	INC	SP
041146 33                  A  1828    	INC	SP
041147 E5                  A  1829    	PUSH	HL
041148 CD DA 18 04         A  1830    	CALL	_putch
04114C C1                  A  1831    	POP	BC
                           A  1832    ;  156	    putch(y & 0xF);
                           A  1833    .LINE 156
                           A  1834    
04114D DD7E09              A  1835    	LD	A,(IX+%9)
041150 E60F                A  1836    	AND	A,%F
041152 B7ED62              A  1837    	UEXT	HL
041155 6F                  A  1838    	LD	L,A
041156 E5                  A  1839    	PUSH	HL
041157 DD77FF              A  1840    	LD	(IX+%FFFFFFFF),A
04115A CD DA 18 04         A  1841    	CALL	_putch
04115E DD7EFF              A  1842    	LD	A,(IX+%FFFFFFFF)
041161 C1                  A  1843    	POP	BC
                           A  1844    ;  157	    putch(y >> 8);
                           A  1845    .LINE 157
                           A  1846    
041162 B7ED62              A  1847    	UEXT	HL
041165 E5                  A  1848    	PUSH	HL
041166 DD2709              A  1849    	LD	HL,(IX+%9)
041169 E5                  A  1850    	PUSH	HL
04116A 33                  A  1851    	INC	SP
04116B E1                  A  1852    	POP	HL
04116C 33                  A  1853    	INC	SP
04116D 33                  A  1854    	INC	SP
04116E E5                  A  1855    	PUSH	HL
04116F CD DA 18 04         A  1856    	CALL	_putch
041173 C1                  A  1857    	POP	BC
                           A  1858    ;  158	}
                           A  1859    .LINE 158
                           A  1860    
041174 DDF9                A  1861    	LD	SP,IX
041176 DDE1                A  1862    	POP	IX
041178 C9                  A  1863    	RET	
                           A  1864    
                           A  1865    
                           A  1866    ;**************************** _vdp_plotSetOrigi
                           A  1867    ;Name                         Addr/Register   S
                           A  1868    ;_putch                              IMPORT  --
                           A  1869    ;y                                     IX+9    
                           A  1870    ;x                                     IX+6    
                           A  1871    
                           A  1872    
                           A  1873    ; Stack Frame Size: 13 (bytes)
                           A  1874    ;       Spill Code: 0 (instruction)
                           A  1875    
                           A  1876    
                           A  1877    .ENDFUNC "vdp_plotSetOrigin",158,"_vdp_plotSetO
                           A  1878    ;  159	
                           A  1879    ;  160	// Bitmap VDP functions
                           A  1880    ;  161	void vdp_bitmapSelect(UINT8 id)
                           A  1881    ;  162	{
041179                     A  1882    _vdp_bitmapSelect:
                           A  1883    .DEFINE "_vdp_bitmapSelect"
                           A  1884    
                           A  1885    .VALUE _vdp_bitmapSelect
                           A  1886    
                           A  1887    .CLASS 2
                           A  1888    
                           A  1889    .TYPE 65
                           A  1890    
                           A  1891    .ENDEF
                           A  1892    
                           A  1893    .BEGFUNC "vdp_bitmapSelect",162,"_vdp_bitmapSel
                           A  1894    
                           A  1895    .LINE 162
                           A  1896    
                           A  1897    .DEFINE "id"
                           A  1898    
                           A  1899    .CLASS 65
                           A  1900    
                           A  1901    .VALUE 6
                           A  1902    
                           A  1903    .TYPE 12
                           A  1904    
                           A  1905    .ENDEF
                           A  1906    
041179 DDE5                A  1907    	PUSH	IX
04117B DD210000 00         A  1908    	LD	IX,0
041180 DD39                A  1909    	ADD	IX,SP
                           A  1910    ;  163		putch(23); // vdu_sys
                           A  1911    .LINE 163
                           A  1912    
041182 01170000            A  1913    	LD	BC,23
041186 C5                  A  1914    	PUSH	BC
041187 CD DA 18 04         A  1915    	CALL	_putch
04118B C1                  A  1916    	POP	BC
                           A  1917    ;  164		putch(27); // sprite command
                           A  1918    .LINE 164
                           A  1919    
04118C 011B0000            A  1920    	LD	BC,27
041190 C5                  A  1921    	PUSH	BC
041191 CD DA 18 04         A  1922    	CALL	_putch
041195 C1                  A  1923    	POP	BC
                           A  1924    ;  165		putch(0);  // select command
                           A  1925    .LINE 165
                           A  1926    
041196 01000000            A  1927    	LD	BC,0
04119A C5                  A  1928    	PUSH	BC
04119B CD DA 18 04         A  1929    	CALL	_putch
04119F C1                  A  1930    	POP	BC
                           A  1931    ;  166		putch(id); // bitmap_id
                           A  1932    .LINE 166
                           A  1933    
0411A0 DD7E06              A  1934    	LD	A,(IX+%6)
0411A3 B7ED62              A  1935    	UEXT	HL
0411A6 6F                  A  1936    	LD	L,A
0411A7 E5                  A  1937    	PUSH	HL
0411A8 CD DA 18 04         A  1938    	CALL	_putch
0411AC C1                  A  1939    	POP	BC
                           A  1940    ;  167		return;	
                           A  1941    ;  168	}
                           A  1942    .LINE 168
                           A  1943    
0411AD DDF9                A  1944    	LD	SP,IX
0411AF DDE1                A  1945    	POP	IX
0411B1 C9                  A  1946    	RET	
                           A  1947    
                           A  1948    
                           A  1949    ;**************************** _vdp_bitmapSelect
                           A  1950    ;Name                         Addr/Register   S
                           A  1951    ;_putch                              IMPORT  --
                           A  1952    ;id                                    IX+6    
                           A  1953    
                           A  1954    
                           A  1955    ; Stack Frame Size: 9 (bytes)
                           A  1956    ;       Spill Code: 0 (instruction)
                           A  1957    
                           A  1958    
                           A  1959    .ENDFUNC "vdp_bitmapSelect",168,"_vdp_bitmapSel
                           A  1960    ;  169	
                           A  1961    ;  170	void vdp_bitmapSendDataSelected(UINT16 
                           A  1962    ;  171	{
0411B2                     A  1963    _vdp_bitmapSendDataSelected:
                           A  1964    .DEFINE "_vdp_bitmapSendDataSelected"
                           A  1965    
                           A  1966    .VALUE _vdp_bitmapSendDataSelected
                           A  1967    
                           A  1968    .CLASS 2
                           A  1969    
                           A  1970    .TYPE 65
                           A  1971    
                           A  1972    .ENDEF
                           A  1973    
                           A  1974    .BEGFUNC "vdp_bitmapSendDataSelected",171,"_vdp
                           A  1975    
                           A  1976    .LINE 171
                           A  1977    
                           A  1978    .DEFINE "width"
                           A  1979    
                           A  1980    .CLASS 65
                           A  1981    
                           A  1982    .VALUE 6
                           A  1983    
                           A  1984    .TYPE 13
                           A  1985    
                           A  1986    .ENDEF
                           A  1987    
                           A  1988    .DEFINE "height"
                           A  1989    
                           A  1990    .CLASS 65
                           A  1991    
                           A  1992    .VALUE 9
                           A  1993    
                           A  1994    .TYPE 13
                           A  1995    
                           A  1996    .ENDEF
                           A  1997    
                           A  1998    .DEFINE "data"
                           A  1999    
                           A  2000    .CLASS 65
                           A  2001    
                           A  2002    .VALUE 12
                           A  2003    
                           A  2004    .TYPE 47
                           A  2005    
                           A  2006    .ENDEF
                           A  2007    
                           A  2008    .DEFINE "n"
                           A  2009    
                           A  2010    .CLASS 65
                           A  2011    
                           A  2012    .VALUE -2
                           A  2013    
                           A  2014    .TYPE 13
                           A  2015    
                           A  2016    .ENDEF
                           A  2017    
0411B2 DDE5                A  2018    	PUSH	IX
0411B4 DD210000 00         A  2019    	LD	IX,0
0411B9 DD39                A  2020    	ADD	IX,SP
0411BB 3B                  A  2021    	DEC	SP
0411BC 3B                  A  2022    	DEC	SP
                           A  2023    ;  172		UINT16 n;
                           A  2024    ;  173		
                           A  2025    ;  174		putch(23); // vdu_sys
                           A  2026    .LINE 174
                           A  2027    
0411BD 01170000            A  2028    	LD	BC,23
0411C1 C5                  A  2029    	PUSH	BC
0411C2 CD DA 18 04         A  2030    	CALL	_putch
0411C6 C1                  A  2031    	POP	BC
                           A  2032    ;  175		putch(27); // sprite command
                           A  2033    .LINE 175
                           A  2034    
0411C7 011B0000            A  2035    	LD	BC,27
0411CB C5                  A  2036    	PUSH	BC
0411CC CD DA 18 04         A  2037    	CALL	_putch
0411D0 C1                  A  2038    	POP	BC
                           A  2039    ;  176		putch(1);  // send data to selected
                           A  2040    .LINE 176
                           A  2041    
0411D1 01010000            A  2042    	LD	BC,1
0411D5 C5                  A  2043    	PUSH	BC
0411D6 CD DA 18 04         A  2044    	CALL	_putch
0411DA C1                  A  2045    	POP	BC
                           A  2046    ;  177		
                           A  2047    ;  178		write16bit(width);
                           A  2048    .LINE 178
                           A  2049    
0411DB DD0706              A  2050    	LD	BC,(IX+%6)
0411DE C5                  A  2051    	PUSH	BC
0411DF CD 18 0D 04         A  2052    	CALL	_write16bit
0411E3 C1                  A  2053    	POP	BC
                           A  2054    ;  179		write16bit(height);
                           A  2055    .LINE 179
                           A  2056    
0411E4 DD0709              A  2057    	LD	BC,(IX+%9)
0411E7 C5                  A  2058    	PUSH	BC
0411E8 CD 18 0D 04         A  2059    	CALL	_write16bit
0411EC C1                  A  2060    	POP	BC
                           A  2061    ;  180		
                           A  2062    ;  181		for(n = 0; n < (width*height); n++)
                           A  2063    .LINE 181
                           A  2064    
0411ED DD36FE00            A  2065    	LD	(IX+%FFFFFFFE),%0
0411F1 DD36FF00            A  2066    	LD	(IX+%FFFFFFFF),%0
0411F5 18 2B               A  2067    	JR	L_26
0411F7                     A  2068    L_24:
                           A  2069    ;  182		{
                           A  2070    ;  183			write32bit(data[n]);
                           A  2071    .LINE 183
                           A  2072    
0411F7 DD07FE              A  2073    	LD	BC,(IX+%FFFFFFFE)
0411FA CD 3C 20 04         A  2074    	CALL	__stoiu
0411FE 29                  A  2075    	ADD	HL,HL
0411FF 29                  A  2076    	ADD	HL,HL
041200 DD070C              A  2077    	LD	BC,(IX+%C)
041203 09                  A  2078    	ADD	HL,BC
041204 E5FDE1              A  2079    	LD	IY,HL
041207 FD0700              A  2080    	LD	BC,(IY)
04120A FD7E03              A  2081    	LD	A,(IY+%3)
04120D 2600                A  2082    	LD	H,%0
04120F 6F                  A  2083    	LD	L,A
041210 E5                  A  2084    	PUSH	HL
041211 C5                  A  2085    	PUSH	BC
041212 CD B5 0D 04         A  2086    	CALL	_write32bit
041216 C1                  A  2087    	POP	BC
041217 C1                  A  2088    	POP	BC
041218 DD27FE              A  2089    	LD	HL,(IX+%FFFFFFFE)
04121B 23                  A  2090    	INC	HL
04121C DD75FE              A  2091    	LD	(IX+%FFFFFFFE),L
04121F DD74FF              A  2092    	LD	(IX+%FFFFFFFF),H
                           A  2093    ;  184			//delayms(1);
                           A  2094    ;  185		}
041222                     A  2095    L_26:
                           A  2096    .LINE 185
                           A  2097    
041222 DD0706              A  2098    	LD	BC,(IX+%6)
041225 CD 3C 20 04         A  2099    	CALL	__stoiu
041229 E5D1                A  2100    	LD	DE,HL
04122B DD0709              A  2101    	LD	BC,(IX+%9)
04122E CD 3C 20 04         A  2102    	CALL	__stoiu
041232 E5C1                A  2103    	LD	BC,HL
041234 D5E1                A  2104    	LD	HL,DE
041236 CD 15 21 04         A  2105    	CALL	__imuls
04123A E5D1                A  2106    	LD	DE,HL
04123C DD07FE              A  2107    	LD	BC,(IX+%FFFFFFFE)
04123F CD 3C 20 04         A  2108    	CALL	__stoiu
041243 B7                  A  2109    	OR	A,A
041244 ED52                A  2110    	SBC	HL,DE
041246 FA 50 12 04         A  2111    	JP	M,L__24
04124A EA F7 11 04         A  2112    	JP	PE,L_24
04124E 18 04               A  2113    	JR	L__25
041250                     A  2114    L__24:
041250 E2 F7 11 04         A  2115    	JP	PO,L_24
041254                     A  2116    L__25:
                           A  2117    ;  186		return;		
                           A  2118    ;  187	}
                           A  2119    .LINE 187
                           A  2120    
041254 DDF9                A  2121    	LD	SP,IX
041256 DDE1                A  2122    	POP	IX
041258 C9                  A  2123    	RET	
                           A  2124    
                           A  2125    
                           A  2126    ;**************************** _vdp_bitmapSendDa
                           A  2127    ;Name                         Addr/Register   S
                           A  2128    ;_putch                              IMPORT  --
                           A  2129    ;n                                     IX-2    
                           A  2130    ;data                                 IX+12    
                           A  2131    ;height                                IX+9    
                           A  2132    ;width                                 IX+6    
                           A  2133    
                           A  2134    
                           A  2135    ; Stack Frame Size: 17 (bytes)
                           A  2136    ;       Spill Code: 0 (instruction)
                           A  2137    
                           A  2138    
                           A  2139    .ENDFUNC "vdp_bitmapSendDataSelected",187,"_vdp
                           A  2140    ;  188	
                           A  2141    ;  189	void vdp_bitmapSendData(UINT8 id, UINT1
                           A  2142    ;  190	{
041259                     A  2143    _vdp_bitmapSendData:
                           A  2144    .DEFINE "_vdp_bitmapSendData"
                           A  2145    
                           A  2146    .VALUE _vdp_bitmapSendData
                           A  2147    
                           A  2148    .CLASS 2
                           A  2149    
                           A  2150    .TYPE 65
                           A  2151    
                           A  2152    .ENDEF
                           A  2153    
                           A  2154    .BEGFUNC "vdp_bitmapSendData",190,"_vdp_bitmapS
                           A  2155    
                           A  2156    .LINE 190
                           A  2157    
                           A  2158    .DEFINE "id"
                           A  2159    
                           A  2160    .CLASS 65
                           A  2161    
                           A  2162    .VALUE 6
                           A  2163    
                           A  2164    .TYPE 12
                           A  2165    
                           A  2166    .ENDEF
                           A  2167    
                           A  2168    .DEFINE "width"
                           A  2169    
                           A  2170    .CLASS 65
                           A  2171    
                           A  2172    .VALUE 9
                           A  2173    
                           A  2174    .TYPE 13
                           A  2175    
                           A  2176    .ENDEF
                           A  2177    
                           A  2178    .DEFINE "height"
                           A  2179    
                           A  2180    .CLASS 65
                           A  2181    
                           A  2182    .VALUE 12
                           A  2183    
                           A  2184    .TYPE 13
                           A  2185    
                           A  2186    .ENDEF
                           A  2187    
                           A  2188    .DEFINE "data"
                           A  2189    
                           A  2190    .CLASS 65
                           A  2191    
                           A  2192    .VALUE 15
                           A  2193    
                           A  2194    .TYPE 47
                           A  2195    
                           A  2196    .ENDEF
                           A  2197    
041259 DDE5                A  2198    	PUSH	IX
04125B DD210000 00         A  2199    	LD	IX,0
041260 DD39                A  2200    	ADD	IX,SP
                           A  2201    ;  191		vdp_bitmapSelect(id);
                           A  2202    .LINE 191
                           A  2203    
041262 DD4E06              A  2204    	LD	C,(IX+%6)
041265 0600                A  2205    	LD	B,%0
041267 C5                  A  2206    	PUSH	BC
041268 CD 79 11 04         A  2207    	CALL	_vdp_bitmapSelect
04126C C1                  A  2208    	POP	BC
                           A  2209    ;  192		vdp_bitmapSendDataSelected(width, h
                           A  2210    .LINE 192
                           A  2211    
04126D DD070F              A  2212    	LD	BC,(IX+%F)
041270 C5                  A  2213    	PUSH	BC
041271 DD070C              A  2214    	LD	BC,(IX+%C)
041274 C5                  A  2215    	PUSH	BC
041275 DD0709              A  2216    	LD	BC,(IX+%9)
041278 C5                  A  2217    	PUSH	BC
041279 CD B2 11 04         A  2218    	CALL	_vdp_bitmapSendDataSelected
04127D C1                  A  2219    	POP	BC
04127E C1                  A  2220    	POP	BC
04127F C1                  A  2221    	POP	BC
                           A  2222    ;  193		return;	
                           A  2223    ;  194	}
                           A  2224    .LINE 194
                           A  2225    
041280 DDF9                A  2226    	LD	SP,IX
041282 DDE1                A  2227    	POP	IX
041284 C9                  A  2228    	RET	
                           A  2229    
                           A  2230    
                           A  2231    ;**************************** _vdp_bitmapSendDa
                           A  2232    ;Name                         Addr/Register   S
                           A  2233    ;_vdp_bitmapSendDataSelected         IMPORT  --
                           A  2234    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2235    ;data                                 IX+15    
                           A  2236    ;height                               IX+12    
                           A  2237    ;width                                 IX+9    
                           A  2238    ;id                                    IX+6    
                           A  2239    
                           A  2240    
                           A  2241    ; Stack Frame Size: 18 (bytes)
                           A  2242    ;       Spill Code: 0 (instruction)
                           A  2243    
                           A  2244    
                           A  2245    .ENDFUNC "vdp_bitmapSendData",194,"_vdp_bitmapS
                           A  2246    ;  195	
                           A  2247    ;  196	void vdp_bitmapDrawSelected(UINT16 x, U
                           A  2248    ;  197	{
041285                     A  2249    _vdp_bitmapDrawSelected:
                           A  2250    .DEFINE "_vdp_bitmapDrawSelected"
                           A  2251    
                           A  2252    .VALUE _vdp_bitmapDrawSelected
                           A  2253    
                           A  2254    .CLASS 2
                           A  2255    
                           A  2256    .TYPE 65
                           A  2257    
                           A  2258    .ENDEF
                           A  2259    
                           A  2260    .BEGFUNC "vdp_bitmapDrawSelected",197,"_vdp_bit
                           A  2261    
                           A  2262    .LINE 197
                           A  2263    
                           A  2264    .DEFINE "x"
                           A  2265    
                           A  2266    .CLASS 65
                           A  2267    
                           A  2268    .VALUE 6
                           A  2269    
                           A  2270    .TYPE 13
                           A  2271    
                           A  2272    .ENDEF
                           A  2273    
                           A  2274    .DEFINE "y"
                           A  2275    
                           A  2276    .CLASS 65
                           A  2277    
                           A  2278    .VALUE 9
                           A  2279    
                           A  2280    .TYPE 13
                           A  2281    
                           A  2282    .ENDEF
                           A  2283    
041285 DDE5                A  2284    	PUSH	IX
041287 DD210000 00         A  2285    	LD	IX,0
04128C DD39                A  2286    	ADD	IX,SP
                           A  2287    ;  198		putch(23); // vdu_sys
                           A  2288    .LINE 198
                           A  2289    
04128E 01170000            A  2290    	LD	BC,23
041292 C5                  A  2291    	PUSH	BC
041293 CD DA 18 04         A  2292    	CALL	_putch
041297 C1                  A  2293    	POP	BC
                           A  2294    ;  199		putch(27); // sprite command
                           A  2295    .LINE 199
                           A  2296    
041298 011B0000            A  2297    	LD	BC,27
04129C C5                  A  2298    	PUSH	BC
04129D CD DA 18 04         A  2299    	CALL	_putch
0412A1 C1                  A  2300    	POP	BC
                           A  2301    ;  200		putch(3);  // draw selected bitmap
                           A  2302    .LINE 200
                           A  2303    
0412A2 01030000            A  2304    	LD	BC,3
0412A6 C5                  A  2305    	PUSH	BC
0412A7 CD DA 18 04         A  2306    	CALL	_putch
0412AB C1                  A  2307    	POP	BC
                           A  2308    ;  201		
                           A  2309    ;  202		write16bit(x);
                           A  2310    .LINE 202
                           A  2311    
0412AC DD0706              A  2312    	LD	BC,(IX+%6)
0412AF C5                  A  2313    	PUSH	BC
0412B0 CD 18 0D 04         A  2314    	CALL	_write16bit
0412B4 C1                  A  2315    	POP	BC
                           A  2316    ;  203		write16bit(y);
                           A  2317    .LINE 203
                           A  2318    
0412B5 DD0709              A  2319    	LD	BC,(IX+%9)
0412B8 C5                  A  2320    	PUSH	BC
0412B9 CD 18 0D 04         A  2321    	CALL	_write16bit
0412BD C1                  A  2322    	POP	BC
                           A  2323    ;  204		
                           A  2324    ;  205		return;
                           A  2325    ;  206	}
                           A  2326    .LINE 206
                           A  2327    
0412BE DDF9                A  2328    	LD	SP,IX
0412C0 DDE1                A  2329    	POP	IX
0412C2 C9                  A  2330    	RET	
                           A  2331    
                           A  2332    
                           A  2333    ;**************************** _vdp_bitmapDrawSe
                           A  2334    ;Name                         Addr/Register   S
                           A  2335    ;_putch                              IMPORT  --
                           A  2336    ;y                                     IX+9    
                           A  2337    ;x                                     IX+6    
                           A  2338    
                           A  2339    
                           A  2340    ; Stack Frame Size: 12 (bytes)
                           A  2341    ;       Spill Code: 0 (instruction)
                           A  2342    
                           A  2343    
                           A  2344    .ENDFUNC "vdp_bitmapDrawSelected",206,"_vdp_bit
                           A  2345    ;  207	
                           A  2346    ;  208	void vdp_bitmapDraw(UINT8 id, UINT16 x,
                           A  2347    ;  209	{
0412C3                     A  2348    _vdp_bitmapDraw:
                           A  2349    .DEFINE "_vdp_bitmapDraw"
                           A  2350    
                           A  2351    .VALUE _vdp_bitmapDraw
                           A  2352    
                           A  2353    .CLASS 2
                           A  2354    
                           A  2355    .TYPE 65
                           A  2356    
                           A  2357    .ENDEF
                           A  2358    
                           A  2359    .BEGFUNC "vdp_bitmapDraw",209,"_vdp_bitmapDraw"
                           A  2360    
                           A  2361    .LINE 209
                           A  2362    
                           A  2363    .DEFINE "id"
                           A  2364    
                           A  2365    .CLASS 65
                           A  2366    
                           A  2367    .VALUE 6
                           A  2368    
                           A  2369    .TYPE 12
                           A  2370    
                           A  2371    .ENDEF
                           A  2372    
                           A  2373    .DEFINE "x"
                           A  2374    
                           A  2375    .CLASS 65
                           A  2376    
                           A  2377    .VALUE 9
                           A  2378    
                           A  2379    .TYPE 13
                           A  2380    
                           A  2381    .ENDEF
                           A  2382    
                           A  2383    .DEFINE "y"
                           A  2384    
                           A  2385    .CLASS 65
                           A  2386    
                           A  2387    .VALUE 12
                           A  2388    
                           A  2389    .TYPE 13
                           A  2390    
                           A  2391    .ENDEF
                           A  2392    
0412C3 DDE5                A  2393    	PUSH	IX
0412C5 DD210000 00         A  2394    	LD	IX,0
0412CA DD39                A  2395    	ADD	IX,SP
                           A  2396    ;  210		vdp_bitmapSelect(id);
                           A  2397    .LINE 210
                           A  2398    
0412CC DD4E06              A  2399    	LD	C,(IX+%6)
0412CF 0600                A  2400    	LD	B,%0
0412D1 C5                  A  2401    	PUSH	BC
0412D2 CD 79 11 04         A  2402    	CALL	_vdp_bitmapSelect
0412D6 C1                  A  2403    	POP	BC
                           A  2404    ;  211		vdp_bitmapDrawSelected(x,y);
                           A  2405    .LINE 211
                           A  2406    
0412D7 DD070C              A  2407    	LD	BC,(IX+%C)
0412DA C5                  A  2408    	PUSH	BC
0412DB DD0709              A  2409    	LD	BC,(IX+%9)
0412DE C5                  A  2410    	PUSH	BC
0412DF CD 85 12 04         A  2411    	CALL	_vdp_bitmapDrawSelected
0412E3 C1                  A  2412    	POP	BC
0412E4 C1                  A  2413    	POP	BC
                           A  2414    ;  212		return;	
                           A  2415    ;  213	}
                           A  2416    .LINE 213
                           A  2417    
0412E5 DDF9                A  2418    	LD	SP,IX
0412E7 DDE1                A  2419    	POP	IX
0412E9 C9                  A  2420    	RET	
                           A  2421    
                           A  2422    
                           A  2423    ;**************************** _vdp_bitmapDraw *
                           A  2424    ;Name                         Addr/Register   S
                           A  2425    ;_vdp_bitmapDrawSelected             IMPORT  --
                           A  2426    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2427    ;y                                    IX+12    
                           A  2428    ;x                                     IX+9    
                           A  2429    ;id                                    IX+6    
                           A  2430    
                           A  2431    
                           A  2432    ; Stack Frame Size: 15 (bytes)
                           A  2433    ;       Spill Code: 0 (instruction)
                           A  2434    
                           A  2435    
                           A  2436    .ENDFUNC "vdp_bitmapDraw",213,"_vdp_bitmapDraw"
                           A  2437    ;  214	
                           A  2438    ;  215	void vdp_bitmapCreateSolidColorSelected
                           A  2439    ;  216	{
0412EA                     A  2440    _vdp_bitmapCreateSolidColorSelected:
                           A  2441    .DEFINE "_vdp_bitmapCreateSolidColorSelected"
                           A  2442    
                           A  2443    .VALUE _vdp_bitmapCreateSolidColorSelected
                           A  2444    
                           A  2445    .CLASS 2
                           A  2446    
                           A  2447    .TYPE 65
                           A  2448    
                           A  2449    .ENDEF
                           A  2450    
                           A  2451    .BEGFUNC "vdp_bitmapCreateSolidColorSelected",2
                           A  2452    
                           A  2453    .LINE 216
                           A  2454    
                           A  2455    .DEFINE "width"
                           A  2456    
                           A  2457    .CLASS 65
                           A  2458    
                           A  2459    .VALUE 6
                           A  2460    
                           A  2461    .TYPE 13
                           A  2462    
                           A  2463    .ENDEF
                           A  2464    
                           A  2465    .DEFINE "height"
                           A  2466    
                           A  2467    .CLASS 65
                           A  2468    
                           A  2469    .VALUE 9
                           A  2470    
                           A  2471    .TYPE 13
                           A  2472    
                           A  2473    .ENDEF
                           A  2474    
                           A  2475    .DEFINE "abgr"
                           A  2476    
                           A  2477    .CLASS 65
                           A  2478    
                           A  2479    .VALUE 12
                           A  2480    
                           A  2481    .TYPE 15
                           A  2482    
                           A  2483    .ENDEF
                           A  2484    
0412EA DDE5                A  2485    	PUSH	IX
0412EC DD210000 00         A  2486    	LD	IX,0
0412F1 DD39                A  2487    	ADD	IX,SP
                           A  2488    ;  217		putch(23); // vdu_sys
                           A  2489    .LINE 217
                           A  2490    
0412F3 01170000            A  2491    	LD	BC,23
0412F7 C5                  A  2492    	PUSH	BC
0412F8 CD DA 18 04         A  2493    	CALL	_putch
0412FC C1                  A  2494    	POP	BC
                           A  2495    ;  218		putch(27); // sprite command
                           A  2496    .LINE 218
                           A  2497    
0412FD 011B0000            A  2498    	LD	BC,27
041301 C5                  A  2499    	PUSH	BC
041302 CD DA 18 04         A  2500    	CALL	_putch
041306 C1                  A  2501    	POP	BC
                           A  2502    ;  219		putch(2);  // define in single colo
                           A  2503    .LINE 219
                           A  2504    
041307 01020000            A  2505    	LD	BC,2
04130B C5                  A  2506    	PUSH	BC
04130C CD DA 18 04         A  2507    	CALL	_putch
041310 C1                  A  2508    	POP	BC
                           A  2509    ;  220		
                           A  2510    ;  221		write16bit(width);
                           A  2511    .LINE 221
                           A  2512    
041311 DD0706              A  2513    	LD	BC,(IX+%6)
041314 C5                  A  2514    	PUSH	BC
041315 CD 18 0D 04         A  2515    	CALL	_write16bit
041319 C1                  A  2516    	POP	BC
                           A  2517    ;  222		write16bit(height);
                           A  2518    .LINE 222
                           A  2519    
04131A DD0709              A  2520    	LD	BC,(IX+%9)
04131D C5                  A  2521    	PUSH	BC
04131E CD 18 0D 04         A  2522    	CALL	_write16bit
041322 C1                  A  2523    	POP	BC
                           A  2524    ;  223		write32bit(abgr);
                           A  2525    .LINE 223
                           A  2526    
041323 DD4E0F              A  2527    	LD	C,(IX+%F)
041326 0600                A  2528    	LD	B,%0
041328 C5                  A  2529    	PUSH	BC
041329 DD070C              A  2530    	LD	BC,(IX+%C)
04132C C5                  A  2531    	PUSH	BC
04132D CD B5 0D 04         A  2532    	CALL	_write32bit
041331 C1                  A  2533    	POP	BC
041332 C1                  A  2534    	POP	BC
                           A  2535    ;  224		return;		
                           A  2536    ;  225	}
                           A  2537    .LINE 225
                           A  2538    
041333 DDF9                A  2539    	LD	SP,IX
041335 DDE1                A  2540    	POP	IX
041337 C9                  A  2541    	RET	
                           A  2542    
                           A  2543    
                           A  2544    ;**************************** _vdp_bitmapCreate
                           A  2545    ;Name                         Addr/Register   S
                           A  2546    ;_putch                              IMPORT  --
                           A  2547    ;abgr                                 IX+12    
                           A  2548    ;height                                IX+9    
                           A  2549    ;width                                 IX+6    
                           A  2550    
                           A  2551    
                           A  2552    ; Stack Frame Size: 18 (bytes)
                           A  2553    ;       Spill Code: 0 (instruction)
                           A  2554    
                           A  2555    
                           A  2556    .ENDFUNC "vdp_bitmapCreateSolidColorSelected",2
                           A  2557    ;  226	
                           A  2558    ;  227	void vdp_bitmapCreateSolidColor(UINT8 i
                           A  2559    ;  228	{
041338                     A  2560    _vdp_bitmapCreateSolidColor:
                           A  2561    .DEFINE "_vdp_bitmapCreateSolidColor"
                           A  2562    
                           A  2563    .VALUE _vdp_bitmapCreateSolidColor
                           A  2564    
                           A  2565    .CLASS 2
                           A  2566    
                           A  2567    .TYPE 65
                           A  2568    
                           A  2569    .ENDEF
                           A  2570    
                           A  2571    .BEGFUNC "vdp_bitmapCreateSolidColor",228,"_vdp
                           A  2572    
                           A  2573    .LINE 228
                           A  2574    
                           A  2575    .DEFINE "id"
                           A  2576    
                           A  2577    .CLASS 65
                           A  2578    
                           A  2579    .VALUE 6
                           A  2580    
                           A  2581    .TYPE 12
                           A  2582    
                           A  2583    .ENDEF
                           A  2584    
                           A  2585    .DEFINE "width"
                           A  2586    
                           A  2587    .CLASS 65
                           A  2588    
                           A  2589    .VALUE 9
                           A  2590    
                           A  2591    .TYPE 13
                           A  2592    
                           A  2593    .ENDEF
                           A  2594    
                           A  2595    .DEFINE "height"
                           A  2596    
                           A  2597    .CLASS 65
                           A  2598    
                           A  2599    .VALUE 12
                           A  2600    
                           A  2601    .TYPE 13
                           A  2602    
                           A  2603    .ENDEF
                           A  2604    
                           A  2605    .DEFINE "abgr"
                           A  2606    
                           A  2607    .CLASS 65
                           A  2608    
                           A  2609    .VALUE 15
                           A  2610    
                           A  2611    .TYPE 15
                           A  2612    
                           A  2613    .ENDEF
                           A  2614    
041338 DDE5                A  2615    	PUSH	IX
04133A DD210000 00         A  2616    	LD	IX,0
04133F DD39                A  2617    	ADD	IX,SP
                           A  2618    ;  229		vdp_bitmapSelect(id);
                           A  2619    .LINE 229
                           A  2620    
041341 DD4E06              A  2621    	LD	C,(IX+%6)
041344 0600                A  2622    	LD	B,%0
041346 C5                  A  2623    	PUSH	BC
041347 CD 79 11 04         A  2624    	CALL	_vdp_bitmapSelect
04134B C1                  A  2625    	POP	BC
                           A  2626    ;  230		vdp_bitmapCreateSolidColorSelected(
                           A  2627    .LINE 230
                           A  2628    
04134C DD4E12              A  2629    	LD	C,(IX+%12)
04134F 0600                A  2630    	LD	B,%0
041351 C5                  A  2631    	PUSH	BC
041352 DD070F              A  2632    	LD	BC,(IX+%F)
041355 C5                  A  2633    	PUSH	BC
041356 DD070C              A  2634    	LD	BC,(IX+%C)
041359 C5                  A  2635    	PUSH	BC
04135A DD0709              A  2636    	LD	BC,(IX+%9)
04135D C5                  A  2637    	PUSH	BC
04135E CD EA 12 04         A  2638    	CALL	_vdp_bitmapCreateSolidColorSelected
041362 C1                  A  2639    	POP	BC
041363 C1                  A  2640    	POP	BC
041364 C1                  A  2641    	POP	BC
041365 C1                  A  2642    	POP	BC
                           A  2643    ;  231		return;	
                           A  2644    ;  232	}
                           A  2645    .LINE 232
                           A  2646    
041366 DDF9                A  2647    	LD	SP,IX
041368 DDE1                A  2648    	POP	IX
04136A C9                  A  2649    	RET	
                           A  2650    
                           A  2651    
                           A  2652    ;**************************** _vdp_bitmapCreate
                           A  2653    ;Name                         Addr/Register   S
                           A  2654    ;_vdp_bitmapCreateSolidColorSelected      IMPOR
                           A  2655    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2656    ;abgr                                 IX+15    
                           A  2657    ;height                               IX+12    
                           A  2658    ;width                                 IX+9    
                           A  2659    ;id                                    IX+6    
                           A  2660    
                           A  2661    
                           A  2662    ; Stack Frame Size: 21 (bytes)
                           A  2663    ;       Spill Code: 0 (instruction)
                           A  2664    
                           A  2665    
                           A  2666    .ENDFUNC "vdp_bitmapCreateSolidColor",232,"_vdp
                           A  2667    ;  233	
                           A  2668    ;  234	// Sprite VDP functions
                           A  2669    ;  235	void vdp_spriteSelect(UINT8 id)
                           A  2670    ;  236	{
04136B                     A  2671    _vdp_spriteSelect:
                           A  2672    .DEFINE "_vdp_spriteSelect"
                           A  2673    
                           A  2674    .VALUE _vdp_spriteSelect
                           A  2675    
                           A  2676    .CLASS 2
                           A  2677    
                           A  2678    .TYPE 65
                           A  2679    
                           A  2680    .ENDEF
                           A  2681    
                           A  2682    .BEGFUNC "vdp_spriteSelect",236,"_vdp_spriteSel
                           A  2683    
                           A  2684    .LINE 236
                           A  2685    
                           A  2686    .DEFINE "id"
                           A  2687    
                           A  2688    .CLASS 65
                           A  2689    
                           A  2690    .VALUE 6
                           A  2691    
                           A  2692    .TYPE 12
                           A  2693    
                           A  2694    .ENDEF
                           A  2695    
04136B DDE5                A  2696    	PUSH	IX
04136D DD210000 00         A  2697    	LD	IX,0
041372 DD39                A  2698    	ADD	IX,SP
                           A  2699    ;  237		putch(23); // vdu_sys
                           A  2700    .LINE 237
                           A  2701    
041374 01170000            A  2702    	LD	BC,23
041378 C5                  A  2703    	PUSH	BC
041379 CD DA 18 04         A  2704    	CALL	_putch
04137D C1                  A  2705    	POP	BC
                           A  2706    ;  238		putch(27); // sprite command
                           A  2707    .LINE 238
                           A  2708    
04137E 011B0000            A  2709    	LD	BC,27
041382 C5                  A  2710    	PUSH	BC
041383 CD DA 18 04         A  2711    	CALL	_putch
041387 C1                  A  2712    	POP	BC
                           A  2713    ;  239		putch(4);  // select sprite
                           A  2714    .LINE 239
                           A  2715    
041388 01040000            A  2716    	LD	BC,4
04138C C5                  A  2717    	PUSH	BC
04138D CD DA 18 04         A  2718    	CALL	_putch
041391 C1                  A  2719    	POP	BC
                           A  2720    ;  240		putch(id);
                           A  2721    .LINE 240
                           A  2722    
041392 DD7E06              A  2723    	LD	A,(IX+%6)
041395 B7ED62              A  2724    	UEXT	HL
041398 6F                  A  2725    	LD	L,A
041399 E5                  A  2726    	PUSH	HL
04139A CD DA 18 04         A  2727    	CALL	_putch
04139E C1                  A  2728    	POP	BC
                           A  2729    ;  241		return;			
                           A  2730    ;  242	}
                           A  2731    .LINE 242
                           A  2732    
04139F DDF9                A  2733    	LD	SP,IX
0413A1 DDE1                A  2734    	POP	IX
0413A3 C9                  A  2735    	RET	
                           A  2736    
                           A  2737    
                           A  2738    ;**************************** _vdp_spriteSelect
                           A  2739    ;Name                         Addr/Register   S
                           A  2740    ;_putch                              IMPORT  --
                           A  2741    ;id                                    IX+6    
                           A  2742    
                           A  2743    
                           A  2744    ; Stack Frame Size: 9 (bytes)
                           A  2745    ;       Spill Code: 0 (instruction)
                           A  2746    
                           A  2747    
                           A  2748    .ENDFUNC "vdp_spriteSelect",242,"_vdp_spriteSel
                           A  2749    ;  243	
                           A  2750    ;  244	void vdp_spriteClearFramesSelected(void
                           A  2751    ;  245	{
0413A4                     A  2752    _vdp_spriteClearFramesSelected:
                           A  2753    .DEFINE "_vdp_spriteClearFramesSelected"
                           A  2754    
                           A  2755    .VALUE _vdp_spriteClearFramesSelected
                           A  2756    
                           A  2757    .CLASS 2
                           A  2758    
                           A  2759    .TYPE 65
                           A  2760    
                           A  2761    .ENDEF
                           A  2762    
                           A  2763    .BEGFUNC "vdp_spriteClearFramesSelected",245,"_
                           A  2764    
0413A4 DDE5                A  2765    	PUSH	IX
0413A6 DD210000 00         A  2766    	LD	IX,0
0413AB DD39                A  2767    	ADD	IX,SP
                           A  2768    ;  246		putch(23); // vdu_sys
                           A  2769    .LINE 246
                           A  2770    
0413AD 01170000            A  2771    	LD	BC,23
0413B1 C5                  A  2772    	PUSH	BC
0413B2 CD DA 18 04         A  2773    	CALL	_putch
0413B6 C1                  A  2774    	POP	BC
                           A  2775    ;  247		putch(27); // sprite command
                           A  2776    .LINE 247
                           A  2777    
0413B7 011B0000            A  2778    	LD	BC,27
0413BB C5                  A  2779    	PUSH	BC
0413BC CD DA 18 04         A  2780    	CALL	_putch
0413C0 C1                  A  2781    	POP	BC
                           A  2782    ;  248		putch(5);  // clear frames
                           A  2783    .LINE 248
                           A  2784    
0413C1 01050000            A  2785    	LD	BC,5
0413C5 C5                  A  2786    	PUSH	BC
0413C6 CD DA 18 04         A  2787    	CALL	_putch
0413CA C1                  A  2788    	POP	BC
                           A  2789    ;  249		return;				
                           A  2790    ;  250	}
                           A  2791    .LINE 250
                           A  2792    
0413CB DDF9                A  2793    	LD	SP,IX
0413CD DDE1                A  2794    	POP	IX
0413CF C9                  A  2795    	RET	
                           A  2796    
                           A  2797    
                           A  2798    ;**************************** _vdp_spriteClearF
                           A  2799    ;Name                         Addr/Register   S
                           A  2800    ;_putch                              IMPORT  --
                           A  2801    
                           A  2802    
                           A  2803    ; Stack Frame Size: 6 (bytes)
                           A  2804    ;       Spill Code: 0 (instruction)
                           A  2805    
                           A  2806    
                           A  2807    .ENDFUNC "vdp_spriteClearFramesSelected",250,"_
                           A  2808    ;  251	
                           A  2809    ;  252	void vdp_spriteClearFrames(UINT8 bitmap
                           A  2810    ;  253	{
0413D0                     A  2811    _vdp_spriteClearFrames:
                           A  2812    .DEFINE "_vdp_spriteClearFrames"
                           A  2813    
                           A  2814    .VALUE _vdp_spriteClearFrames
                           A  2815    
                           A  2816    .CLASS 2
                           A  2817    
                           A  2818    .TYPE 65
                           A  2819    
                           A  2820    .ENDEF
                           A  2821    
                           A  2822    .BEGFUNC "vdp_spriteClearFrames",253,"_vdp_spri
                           A  2823    
                           A  2824    .LINE 253
                           A  2825    
                           A  2826    .DEFINE "bitmapid"
                           A  2827    
                           A  2828    .CLASS 65
                           A  2829    
                           A  2830    .VALUE 6
                           A  2831    
                           A  2832    .TYPE 12
                           A  2833    
                           A  2834    .ENDEF
                           A  2835    
0413D0 DDE5                A  2836    	PUSH	IX
0413D2 DD210000 00         A  2837    	LD	IX,0
0413D7 DD39                A  2838    	ADD	IX,SP
                           A  2839    ;  254		vdp_spriteSelect(bitmapid);
                           A  2840    .LINE 254
                           A  2841    
0413D9 DD4E06              A  2842    	LD	C,(IX+%6)
0413DC 0600                A  2843    	LD	B,%0
0413DE C5                  A  2844    	PUSH	BC
0413DF CD 6B 13 04         A  2845    	CALL	_vdp_spriteSelect
0413E3 C1                  A  2846    	POP	BC
                           A  2847    ;  255		vdp_spriteClearFramesSelected();
                           A  2848    .LINE 255
                           A  2849    
0413E4 CD A4 13 04         A  2850    	CALL	_vdp_spriteClearFramesSelected
                           A  2851    ;  256		return;				
                           A  2852    ;  257	}
                           A  2853    .LINE 257
                           A  2854    
0413E8 DDF9                A  2855    	LD	SP,IX
0413EA DDE1                A  2856    	POP	IX
0413EC C9                  A  2857    	RET	
                           A  2858    
                           A  2859    
                           A  2860    ;**************************** _vdp_spriteClearF
                           A  2861    ;Name                         Addr/Register   S
                           A  2862    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  2863    ;_vdp_spriteSelect                   IMPORT  --
                           A  2864    ;bitmapid                              IX+6    
                           A  2865    
                           A  2866    
                           A  2867    ; Stack Frame Size: 9 (bytes)
                           A  2868    ;       Spill Code: 0 (instruction)
                           A  2869    
                           A  2870    
                           A  2871    .ENDFUNC "vdp_spriteClearFrames",257,"_vdp_spri
                           A  2872    ;  258	
                           A  2873    ;  259	void vdp_spriteAddFrameSelected(UINT8 b
                           A  2874    ;  260	{
0413ED                     A  2875    _vdp_spriteAddFrameSelected:
                           A  2876    .DEFINE "_vdp_spriteAddFrameSelected"
                           A  2877    
                           A  2878    .VALUE _vdp_spriteAddFrameSelected
                           A  2879    
                           A  2880    .CLASS 2
                           A  2881    
                           A  2882    .TYPE 65
                           A  2883    
                           A  2884    .ENDEF
                           A  2885    
                           A  2886    .BEGFUNC "vdp_spriteAddFrameSelected",260,"_vdp
                           A  2887    
                           A  2888    .LINE 260
                           A  2889    
                           A  2890    .DEFINE "bitmapid"
                           A  2891    
                           A  2892    .CLASS 65
                           A  2893    
                           A  2894    .VALUE 6
                           A  2895    
                           A  2896    .TYPE 12
                           A  2897    
                           A  2898    .ENDEF
                           A  2899    
0413ED DDE5                A  2900    	PUSH	IX
0413EF DD210000 00         A  2901    	LD	IX,0
0413F4 DD39                A  2902    	ADD	IX,SP
                           A  2903    ;  261		putch(23); // vdu_sys
                           A  2904    .LINE 261
                           A  2905    
0413F6 01170000            A  2906    	LD	BC,23
0413FA C5                  A  2907    	PUSH	BC
0413FB CD DA 18 04         A  2908    	CALL	_putch
0413FF C1                  A  2909    	POP	BC
                           A  2910    ;  262		putch(27); // sprite command
                           A  2911    .LINE 262
                           A  2912    
041400 011B0000            A  2913    	LD	BC,27
041404 C5                  A  2914    	PUSH	BC
041405 CD DA 18 04         A  2915    	CALL	_putch
041409 C1                  A  2916    	POP	BC
                           A  2917    ;  263		putch(6);  // add frame
                           A  2918    .LINE 263
                           A  2919    
04140A 01060000            A  2920    	LD	BC,6
04140E C5                  A  2921    	PUSH	BC
04140F CD DA 18 04         A  2922    	CALL	_putch
041413 C1                  A  2923    	POP	BC
                           A  2924    ;  264		putch(bitmapid);
                           A  2925    .LINE 264
                           A  2926    
041414 DD7E06              A  2927    	LD	A,(IX+%6)
041417 B7ED62              A  2928    	UEXT	HL
04141A 6F                  A  2929    	LD	L,A
04141B E5                  A  2930    	PUSH	HL
04141C CD DA 18 04         A  2931    	CALL	_putch
041420 C1                  A  2932    	POP	BC
                           A  2933    ;  265		return;	
                           A  2934    ;  266	}
                           A  2935    .LINE 266
                           A  2936    
041421 DDF9                A  2937    	LD	SP,IX
041423 DDE1                A  2938    	POP	IX
041425 C9                  A  2939    	RET	
                           A  2940    
                           A  2941    
                           A  2942    ;**************************** _vdp_spriteAddFra
                           A  2943    ;Name                         Addr/Register   S
                           A  2944    ;_putch                              IMPORT  --
                           A  2945    ;bitmapid                              IX+6    
                           A  2946    
                           A  2947    
                           A  2948    ; Stack Frame Size: 9 (bytes)
                           A  2949    ;       Spill Code: 0 (instruction)
                           A  2950    
                           A  2951    
                           A  2952    .ENDFUNC "vdp_spriteAddFrameSelected",266,"_vdp
                           A  2953    ;  267	
                           A  2954    ;  268	void vdp_spriteAddFrame(UINT8 id, UINT8
                           A  2955    ;  269	{
041426                     A  2956    _vdp_spriteAddFrame:
                           A  2957    .DEFINE "_vdp_spriteAddFrame"
                           A  2958    
                           A  2959    .VALUE _vdp_spriteAddFrame
                           A  2960    
                           A  2961    .CLASS 2
                           A  2962    
                           A  2963    .TYPE 65
                           A  2964    
                           A  2965    .ENDEF
                           A  2966    
                           A  2967    .BEGFUNC "vdp_spriteAddFrame",269,"_vdp_spriteA
                           A  2968    
                           A  2969    .LINE 269
                           A  2970    
                           A  2971    .DEFINE "id"
                           A  2972    
                           A  2973    .CLASS 65
                           A  2974    
                           A  2975    .VALUE 6
                           A  2976    
                           A  2977    .TYPE 12
                           A  2978    
                           A  2979    .ENDEF
                           A  2980    
                           A  2981    .DEFINE "bitmapid"
                           A  2982    
                           A  2983    .CLASS 65
                           A  2984    
                           A  2985    .VALUE 9
                           A  2986    
                           A  2987    .TYPE 12
                           A  2988    
                           A  2989    .ENDEF
                           A  2990    
041426 DDE5                A  2991    	PUSH	IX
041428 DD210000 00         A  2992    	LD	IX,0
04142D DD39                A  2993    	ADD	IX,SP
                           A  2994    ;  270		vdp_spriteSelect(id);
                           A  2995    .LINE 270
                           A  2996    
04142F DD4E06              A  2997    	LD	C,(IX+%6)
041432 0600                A  2998    	LD	B,%0
041434 C5                  A  2999    	PUSH	BC
041435 CD 6B 13 04         A  3000    	CALL	_vdp_spriteSelect
041439 C1                  A  3001    	POP	BC
                           A  3002    ;  271		vdp_spriteAddFrameSelected(bitmapid
                           A  3003    .LINE 271
                           A  3004    
04143A DD4E09              A  3005    	LD	C,(IX+%9)
04143D 0600                A  3006    	LD	B,%0
04143F C5                  A  3007    	PUSH	BC
041440 CD ED 13 04         A  3008    	CALL	_vdp_spriteAddFrameSelected
041444 C1                  A  3009    	POP	BC
                           A  3010    ;  272		return;	
                           A  3011    ;  273	}
                           A  3012    .LINE 273
                           A  3013    
041445 DDF9                A  3014    	LD	SP,IX
041447 DDE1                A  3015    	POP	IX
041449 C9                  A  3016    	RET	
                           A  3017    
                           A  3018    
                           A  3019    ;**************************** _vdp_spriteAddFra
                           A  3020    ;Name                         Addr/Register   S
                           A  3021    ;_vdp_spriteAddFrameSelected         IMPORT  --
                           A  3022    ;_vdp_spriteSelect                   IMPORT  --
                           A  3023    ;bitmapid                              IX+9    
                           A  3024    ;id                                    IX+6    
                           A  3025    
                           A  3026    
                           A  3027    ; Stack Frame Size: 12 (bytes)
                           A  3028    ;       Spill Code: 0 (instruction)
                           A  3029    
                           A  3030    
                           A  3031    .ENDFUNC "vdp_spriteAddFrame",273,"_vdp_spriteA
                           A  3032    ;  274	
                           A  3033    ;  275	void vdp_spriteNextFrameSelected(void)
                           A  3034    ;  276	{
04144A                     A  3035    _vdp_spriteNextFrameSelected:
                           A  3036    .DEFINE "_vdp_spriteNextFrameSelected"
                           A  3037    
                           A  3038    .VALUE _vdp_spriteNextFrameSelected
                           A  3039    
                           A  3040    .CLASS 2
                           A  3041    
                           A  3042    .TYPE 65
                           A  3043    
                           A  3044    .ENDEF
                           A  3045    
                           A  3046    .BEGFUNC "vdp_spriteNextFrameSelected",276,"_vd
                           A  3047    
04144A DDE5                A  3048    	PUSH	IX
04144C DD210000 00         A  3049    	LD	IX,0
041451 DD39                A  3050    	ADD	IX,SP
                           A  3051    ;  277		putch(23); // vdu_sys
                           A  3052    .LINE 277
                           A  3053    
041453 01170000            A  3054    	LD	BC,23
041457 C5                  A  3055    	PUSH	BC
041458 CD DA 18 04         A  3056    	CALL	_putch
04145C C1                  A  3057    	POP	BC
                           A  3058    ;  278		putch(27); // sprite command
                           A  3059    .LINE 278
                           A  3060    
04145D 011B0000            A  3061    	LD	BC,27
041461 C5                  A  3062    	PUSH	BC
041462 CD DA 18 04         A  3063    	CALL	_putch
041466 C1                  A  3064    	POP	BC
                           A  3065    ;  279		putch(8);  // next frame
                           A  3066    .LINE 279
                           A  3067    
041467 01080000            A  3068    	LD	BC,8
04146B C5                  A  3069    	PUSH	BC
04146C CD DA 18 04         A  3070    	CALL	_putch
041470 C1                  A  3071    	POP	BC
                           A  3072    ;  280		return;			
                           A  3073    ;  281	}
                           A  3074    .LINE 281
                           A  3075    
041471 DDF9                A  3076    	LD	SP,IX
041473 DDE1                A  3077    	POP	IX
041475 C9                  A  3078    	RET	
                           A  3079    
                           A  3080    
                           A  3081    ;**************************** _vdp_spriteNextFr
                           A  3082    ;Name                         Addr/Register   S
                           A  3083    ;_putch                              IMPORT  --
                           A  3084    
                           A  3085    
                           A  3086    ; Stack Frame Size: 6 (bytes)
                           A  3087    ;       Spill Code: 0 (instruction)
                           A  3088    
                           A  3089    
                           A  3090    .ENDFUNC "vdp_spriteNextFrameSelected",281,"_vd
                           A  3091    ;  282	
                           A  3092    ;  283	void vdp_spriteNextFrame(UINT8 id)
                           A  3093    ;  284	{
041476                     A  3094    _vdp_spriteNextFrame:
                           A  3095    .DEFINE "_vdp_spriteNextFrame"
                           A  3096    
                           A  3097    .VALUE _vdp_spriteNextFrame
                           A  3098    
                           A  3099    .CLASS 2
                           A  3100    
                           A  3101    .TYPE 65
                           A  3102    
                           A  3103    .ENDEF
                           A  3104    
                           A  3105    .BEGFUNC "vdp_spriteNextFrame",284,"_vdp_sprite
                           A  3106    
                           A  3107    .LINE 284
                           A  3108    
                           A  3109    .DEFINE "id"
                           A  3110    
                           A  3111    .CLASS 65
                           A  3112    
                           A  3113    .VALUE 6
                           A  3114    
                           A  3115    .TYPE 12
                           A  3116    
                           A  3117    .ENDEF
                           A  3118    
041476 DDE5                A  3119    	PUSH	IX
041478 DD210000 00         A  3120    	LD	IX,0
04147D DD39                A  3121    	ADD	IX,SP
                           A  3122    ;  285		vdp_spriteSelect(id);
                           A  3123    .LINE 285
                           A  3124    
04147F DD4E06              A  3125    	LD	C,(IX+%6)
041482 0600                A  3126    	LD	B,%0
041484 C5                  A  3127    	PUSH	BC
041485 CD 6B 13 04         A  3128    	CALL	_vdp_spriteSelect
041489 C1                  A  3129    	POP	BC
                           A  3130    ;  286		vdp_spriteNextFrameSelected();
                           A  3131    .LINE 286
                           A  3132    
04148A CD 4A 14 04         A  3133    	CALL	_vdp_spriteNextFrameSelected
                           A  3134    ;  287		return;
                           A  3135    ;  288	}
                           A  3136    .LINE 288
                           A  3137    
04148E DDF9                A  3138    	LD	SP,IX
041490 DDE1                A  3139    	POP	IX
041492 C9                  A  3140    	RET	
                           A  3141    
                           A  3142    
                           A  3143    ;**************************** _vdp_spriteNextFr
                           A  3144    ;Name                         Addr/Register   S
                           A  3145    ;_vdp_spriteNextFrameSelected        IMPORT  --
                           A  3146    ;_vdp_spriteSelect                   IMPORT  --
                           A  3147    ;id                                    IX+6    
                           A  3148    
                           A  3149    
                           A  3150    ; Stack Frame Size: 9 (bytes)
                           A  3151    ;       Spill Code: 0 (instruction)
                           A  3152    
                           A  3153    
                           A  3154    .ENDFUNC "vdp_spriteNextFrame",288,"_vdp_sprite
                           A  3155    ;  289	
                           A  3156    ;  290	void vdp_spritePreviousFrameSelected(vo
                           A  3157    ;  291	{
041493                     A  3158    _vdp_spritePreviousFrameSelected:
                           A  3159    .DEFINE "_vdp_spritePreviousFrameSelected"
                           A  3160    
                           A  3161    .VALUE _vdp_spritePreviousFrameSelected
                           A  3162    
                           A  3163    .CLASS 2
                           A  3164    
                           A  3165    .TYPE 65
                           A  3166    
                           A  3167    .ENDEF
                           A  3168    
                           A  3169    .BEGFUNC "vdp_spritePreviousFrameSelected",291,
                           A  3170    
041493 DDE5                A  3171    	PUSH	IX
041495 DD210000 00         A  3172    	LD	IX,0
04149A DD39                A  3173    	ADD	IX,SP
                           A  3174    ;  292		putch(23); // vdu_sys
                           A  3175    .LINE 292
                           A  3176    
04149C 01170000            A  3177    	LD	BC,23
0414A0 C5                  A  3178    	PUSH	BC
0414A1 CD DA 18 04         A  3179    	CALL	_putch
0414A5 C1                  A  3180    	POP	BC
                           A  3181    ;  293		putch(27); // sprite command
                           A  3182    .LINE 293
                           A  3183    
0414A6 011B0000            A  3184    	LD	BC,27
0414AA C5                  A  3185    	PUSH	BC
0414AB CD DA 18 04         A  3186    	CALL	_putch
0414AF C1                  A  3187    	POP	BC
                           A  3188    ;  294		putch(9); // previous frame
                           A  3189    .LINE 294
                           A  3190    
0414B0 01090000            A  3191    	LD	BC,9
0414B4 C5                  A  3192    	PUSH	BC
0414B5 CD DA 18 04         A  3193    	CALL	_putch
0414B9 C1                  A  3194    	POP	BC
                           A  3195    ;  295		return;	
                           A  3196    ;  296	}
                           A  3197    .LINE 296
                           A  3198    
0414BA DDF9                A  3199    	LD	SP,IX
0414BC DDE1                A  3200    	POP	IX
0414BE C9                  A  3201    	RET	
                           A  3202    
                           A  3203    
                           A  3204    ;**************************** _vdp_spritePrevio
                           A  3205    ;Name                         Addr/Register   S
                           A  3206    ;_putch                              IMPORT  --
                           A  3207    
                           A  3208    
                           A  3209    ; Stack Frame Size: 6 (bytes)
                           A  3210    ;       Spill Code: 0 (instruction)
                           A  3211    
                           A  3212    
                           A  3213    .ENDFUNC "vdp_spritePreviousFrameSelected",296,
                           A  3214    ;  297	
                           A  3215    ;  298	void vdp_spritePreviousFrame(UINT8 id)
                           A  3216    ;  299	{
0414BF                     A  3217    _vdp_spritePreviousFrame:
                           A  3218    .DEFINE "_vdp_spritePreviousFrame"
                           A  3219    
                           A  3220    .VALUE _vdp_spritePreviousFrame
                           A  3221    
                           A  3222    .CLASS 2
                           A  3223    
                           A  3224    .TYPE 65
                           A  3225    
                           A  3226    .ENDEF
                           A  3227    
                           A  3228    .BEGFUNC "vdp_spritePreviousFrame",299,"_vdp_sp
                           A  3229    
                           A  3230    .LINE 299
                           A  3231    
                           A  3232    .DEFINE "id"
                           A  3233    
                           A  3234    .CLASS 65
                           A  3235    
                           A  3236    .VALUE 6
                           A  3237    
                           A  3238    .TYPE 12
                           A  3239    
                           A  3240    .ENDEF
                           A  3241    
0414BF DDE5                A  3242    	PUSH	IX
0414C1 DD210000 00         A  3243    	LD	IX,0
0414C6 DD39                A  3244    	ADD	IX,SP
                           A  3245    ;  300		vdp_spriteSelect(id);
                           A  3246    .LINE 300
                           A  3247    
0414C8 DD4E06              A  3248    	LD	C,(IX+%6)
0414CB 0600                A  3249    	LD	B,%0
0414CD C5                  A  3250    	PUSH	BC
0414CE CD 6B 13 04         A  3251    	CALL	_vdp_spriteSelect
0414D2 C1                  A  3252    	POP	BC
                           A  3253    ;  301		vdp_spritePreviousFrameSelected();
                           A  3254    .LINE 301
                           A  3255    
0414D3 CD 93 14 04         A  3256    	CALL	_vdp_spritePreviousFrameSelected
                           A  3257    ;  302		return;
                           A  3258    ;  303	}
                           A  3259    .LINE 303
                           A  3260    
0414D7 DDF9                A  3261    	LD	SP,IX
0414D9 DDE1                A  3262    	POP	IX
0414DB C9                  A  3263    	RET	
                           A  3264    
                           A  3265    
                           A  3266    ;**************************** _vdp_spritePrevio
                           A  3267    ;Name                         Addr/Register   S
                           A  3268    ;_vdp_spritePreviousFrameSelected      IMPORT  
                           A  3269    ;_vdp_spriteSelect                   IMPORT  --
                           A  3270    ;id                                    IX+6    
                           A  3271    
                           A  3272    
                           A  3273    ; Stack Frame Size: 9 (bytes)
                           A  3274    ;       Spill Code: 0 (instruction)
                           A  3275    
                           A  3276    
                           A  3277    .ENDFUNC "vdp_spritePreviousFrame",303,"_vdp_sp
                           A  3278    ;  304	
                           A  3279    ;  305	void vdp_spriteSetFrameSelected(UINT8 f
                           A  3280    ;  306	{
0414DC                     A  3281    _vdp_spriteSetFrameSelected:
                           A  3282    .DEFINE "_vdp_spriteSetFrameSelected"
                           A  3283    
                           A  3284    .VALUE _vdp_spriteSetFrameSelected
                           A  3285    
                           A  3286    .CLASS 2
                           A  3287    
                           A  3288    .TYPE 65
                           A  3289    
                           A  3290    .ENDEF
                           A  3291    
                           A  3292    .BEGFUNC "vdp_spriteSetFrameSelected",306,"_vdp
                           A  3293    
                           A  3294    .LINE 306
                           A  3295    
                           A  3296    .DEFINE "framenumber"
                           A  3297    
                           A  3298    .CLASS 65
                           A  3299    
                           A  3300    .VALUE 6
                           A  3301    
                           A  3302    .TYPE 12
                           A  3303    
                           A  3304    .ENDEF
                           A  3305    
0414DC DDE5                A  3306    	PUSH	IX
0414DE DD210000 00         A  3307    	LD	IX,0
0414E3 DD39                A  3308    	ADD	IX,SP
                           A  3309    ;  307		putch(23); // vdu_sys
                           A  3310    .LINE 307
                           A  3311    
0414E5 01170000            A  3312    	LD	BC,23
0414E9 C5                  A  3313    	PUSH	BC
0414EA CD DA 18 04         A  3314    	CALL	_putch
0414EE C1                  A  3315    	POP	BC
                           A  3316    ;  308		putch(27); // sprite command
                           A  3317    .LINE 308
                           A  3318    
0414EF 011B0000            A  3319    	LD	BC,27
0414F3 C5                  A  3320    	PUSH	BC
0414F4 CD DA 18 04         A  3321    	CALL	_putch
0414F8 C1                  A  3322    	POP	BC
                           A  3323    ;  309		putch(10); // set current frame
                           A  3324    .LINE 309
                           A  3325    
0414F9 010A0000            A  3326    	LD	BC,10
0414FD C5                  A  3327    	PUSH	BC
0414FE CD DA 18 04         A  3328    	CALL	_putch
041502 C1                  A  3329    	POP	BC
                           A  3330    ;  310		putch(framenumber);
                           A  3331    .LINE 310
                           A  3332    
041503 DD7E06              A  3333    	LD	A,(IX+%6)
041506 B7ED62              A  3334    	UEXT	HL
041509 6F                  A  3335    	LD	L,A
04150A E5                  A  3336    	PUSH	HL
04150B CD DA 18 04         A  3337    	CALL	_putch
04150F C1                  A  3338    	POP	BC
                           A  3339    ;  311		return;	
                           A  3340    ;  312	}
                           A  3341    .LINE 312
                           A  3342    
041510 DDF9                A  3343    	LD	SP,IX
041512 DDE1                A  3344    	POP	IX
041514 C9                  A  3345    	RET	
                           A  3346    
                           A  3347    
                           A  3348    ;**************************** _vdp_spriteSetFra
                           A  3349    ;Name                         Addr/Register   S
                           A  3350    ;_putch                              IMPORT  --
                           A  3351    ;framenumber                           IX+6    
                           A  3352    
                           A  3353    
                           A  3354    ; Stack Frame Size: 9 (bytes)
                           A  3355    ;       Spill Code: 0 (instruction)
                           A  3356    
                           A  3357    
                           A  3358    .ENDFUNC "vdp_spriteSetFrameSelected",312,"_vdp
                           A  3359    ;  313	
                           A  3360    ;  314	void vdp_spriteSetFrame(UINT8 id, UINT8
                           A  3361    ;  315	{
041515                     A  3362    _vdp_spriteSetFrame:
                           A  3363    .DEFINE "_vdp_spriteSetFrame"
                           A  3364    
                           A  3365    .VALUE _vdp_spriteSetFrame
                           A  3366    
                           A  3367    .CLASS 2
                           A  3368    
                           A  3369    .TYPE 65
                           A  3370    
                           A  3371    .ENDEF
                           A  3372    
                           A  3373    .BEGFUNC "vdp_spriteSetFrame",315,"_vdp_spriteS
                           A  3374    
                           A  3375    .LINE 315
                           A  3376    
                           A  3377    .DEFINE "id"
                           A  3378    
                           A  3379    .CLASS 65
                           A  3380    
                           A  3381    .VALUE 6
                           A  3382    
                           A  3383    .TYPE 12
                           A  3384    
                           A  3385    .ENDEF
                           A  3386    
                           A  3387    .DEFINE "framenumber"
                           A  3388    
                           A  3389    .CLASS 65
                           A  3390    
                           A  3391    .VALUE 9
                           A  3392    
                           A  3393    .TYPE 12
                           A  3394    
                           A  3395    .ENDEF
                           A  3396    
041515 DDE5                A  3397    	PUSH	IX
041517 DD210000 00         A  3398    	LD	IX,0
04151C DD39                A  3399    	ADD	IX,SP
                           A  3400    ;  316		vdp_spriteSelect(id);
                           A  3401    .LINE 316
                           A  3402    
04151E DD4E06              A  3403    	LD	C,(IX+%6)
041521 0600                A  3404    	LD	B,%0
041523 C5                  A  3405    	PUSH	BC
041524 CD 6B 13 04         A  3406    	CALL	_vdp_spriteSelect
041528 C1                  A  3407    	POP	BC
                           A  3408    ;  317		vdp_spriteSetFrameSelected(framenum
                           A  3409    .LINE 317
                           A  3410    
041529 DD4E09              A  3411    	LD	C,(IX+%9)
04152C 0600                A  3412    	LD	B,%0
04152E C5                  A  3413    	PUSH	BC
04152F CD DC 14 04         A  3414    	CALL	_vdp_spriteSetFrameSelected
041533 C1                  A  3415    	POP	BC
                           A  3416    ;  318		return;
                           A  3417    ;  319	}
                           A  3418    .LINE 319
                           A  3419    
041534 DDF9                A  3420    	LD	SP,IX
041536 DDE1                A  3421    	POP	IX
041538 C9                  A  3422    	RET	
                           A  3423    
                           A  3424    
                           A  3425    ;**************************** _vdp_spriteSetFra
                           A  3426    ;Name                         Addr/Register   S
                           A  3427    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3428    ;_vdp_spriteSelect                   IMPORT  --
                           A  3429    ;framenumber                           IX+9    
                           A  3430    ;id                                    IX+6    
                           A  3431    
                           A  3432    
                           A  3433    ; Stack Frame Size: 12 (bytes)
                           A  3434    ;       Spill Code: 0 (instruction)
                           A  3435    
                           A  3436    
                           A  3437    .ENDFUNC "vdp_spriteSetFrame",319,"_vdp_spriteS
                           A  3438    ;  320	
                           A  3439    ;  321	void vdp_spriteShowSelected(void)
                           A  3440    ;  322	{
041539                     A  3441    _vdp_spriteShowSelected:
                           A  3442    .DEFINE "_vdp_spriteShowSelected"
                           A  3443    
                           A  3444    .VALUE _vdp_spriteShowSelected
                           A  3445    
                           A  3446    .CLASS 2
                           A  3447    
                           A  3448    .TYPE 65
                           A  3449    
                           A  3450    .ENDEF
                           A  3451    
                           A  3452    .BEGFUNC "vdp_spriteShowSelected",322,"_vdp_spr
                           A  3453    
041539 DDE5                A  3454    	PUSH	IX
04153B DD210000 00         A  3455    	LD	IX,0
041540 DD39                A  3456    	ADD	IX,SP
                           A  3457    ;  323		putch(23); // vdu_sys
                           A  3458    .LINE 323
                           A  3459    
041542 01170000            A  3460    	LD	BC,23
041546 C5                  A  3461    	PUSH	BC
041547 CD DA 18 04         A  3462    	CALL	_putch
04154B C1                  A  3463    	POP	BC
                           A  3464    ;  324		putch(27); // sprite command
                           A  3465    .LINE 324
                           A  3466    
04154C 011B0000            A  3467    	LD	BC,27
041550 C5                  A  3468    	PUSH	BC
041551 CD DA 18 04         A  3469    	CALL	_putch
041555 C1                  A  3470    	POP	BC
                           A  3471    ;  325		putch(11); // show sprite
                           A  3472    .LINE 325
                           A  3473    
041556 010B0000            A  3474    	LD	BC,11
04155A C5                  A  3475    	PUSH	BC
04155B CD DA 18 04         A  3476    	CALL	_putch
04155F C1                  A  3477    	POP	BC
                           A  3478    ;  326		return;			
                           A  3479    ;  327	}
                           A  3480    .LINE 327
                           A  3481    
041560 DDF9                A  3482    	LD	SP,IX
041562 DDE1                A  3483    	POP	IX
041564 C9                  A  3484    	RET	
                           A  3485    
                           A  3486    
                           A  3487    ;**************************** _vdp_spriteShowSe
                           A  3488    ;Name                         Addr/Register   S
                           A  3489    ;_putch                              IMPORT  --
                           A  3490    
                           A  3491    
                           A  3492    ; Stack Frame Size: 6 (bytes)
                           A  3493    ;       Spill Code: 0 (instruction)
                           A  3494    
                           A  3495    
                           A  3496    .ENDFUNC "vdp_spriteShowSelected",327,"_vdp_spr
                           A  3497    ;  328	
                           A  3498    ;  329	void vdp_spriteShow(UINT8 id)
                           A  3499    ;  330	{
041565                     A  3500    _vdp_spriteShow:
                           A  3501    .DEFINE "_vdp_spriteShow"
                           A  3502    
                           A  3503    .VALUE _vdp_spriteShow
                           A  3504    
                           A  3505    .CLASS 2
                           A  3506    
                           A  3507    .TYPE 65
                           A  3508    
                           A  3509    .ENDEF
                           A  3510    
                           A  3511    .BEGFUNC "vdp_spriteShow",330,"_vdp_spriteShow"
                           A  3512    
                           A  3513    .LINE 330
                           A  3514    
                           A  3515    .DEFINE "id"
                           A  3516    
                           A  3517    .CLASS 65
                           A  3518    
                           A  3519    .VALUE 6
                           A  3520    
                           A  3521    .TYPE 12
                           A  3522    
                           A  3523    .ENDEF
                           A  3524    
041565 DDE5                A  3525    	PUSH	IX
041567 DD210000 00         A  3526    	LD	IX,0
04156C DD39                A  3527    	ADD	IX,SP
                           A  3528    ;  331		vdp_spriteSelect(id);
                           A  3529    .LINE 331
                           A  3530    
04156E DD4E06              A  3531    	LD	C,(IX+%6)
041571 0600                A  3532    	LD	B,%0
041573 C5                  A  3533    	PUSH	BC
041574 CD 6B 13 04         A  3534    	CALL	_vdp_spriteSelect
041578 C1                  A  3535    	POP	BC
                           A  3536    ;  332		vdp_spriteShowSelected();
                           A  3537    .LINE 332
                           A  3538    
041579 CD 39 15 04         A  3539    	CALL	_vdp_spriteShowSelected
                           A  3540    ;  333		return;
                           A  3541    ;  334	}
                           A  3542    .LINE 334
                           A  3543    
04157D DDF9                A  3544    	LD	SP,IX
04157F DDE1                A  3545    	POP	IX
041581 C9                  A  3546    	RET	
                           A  3547    
                           A  3548    
                           A  3549    ;**************************** _vdp_spriteShow *
                           A  3550    ;Name                         Addr/Register   S
                           A  3551    ;_vdp_spriteShowSelected             IMPORT  --
                           A  3552    ;_vdp_spriteSelect                   IMPORT  --
                           A  3553    ;id                                    IX+6    
                           A  3554    
                           A  3555    
                           A  3556    ; Stack Frame Size: 9 (bytes)
                           A  3557    ;       Spill Code: 0 (instruction)
                           A  3558    
                           A  3559    
                           A  3560    .ENDFUNC "vdp_spriteShow",334,"_vdp_spriteShow"
                           A  3561    ;  335	
                           A  3562    ;  336	void vdp_spriteHideSelected(void)
                           A  3563    ;  337	{
041582                     A  3564    _vdp_spriteHideSelected:
                           A  3565    .DEFINE "_vdp_spriteHideSelected"
                           A  3566    
                           A  3567    .VALUE _vdp_spriteHideSelected
                           A  3568    
                           A  3569    .CLASS 2
                           A  3570    
                           A  3571    .TYPE 65
                           A  3572    
                           A  3573    .ENDEF
                           A  3574    
                           A  3575    .BEGFUNC "vdp_spriteHideSelected",337,"_vdp_spr
                           A  3576    
041582 DDE5                A  3577    	PUSH	IX
041584 DD210000 00         A  3578    	LD	IX,0
041589 DD39                A  3579    	ADD	IX,SP
                           A  3580    ;  338		putch(23); // vdu_sys
                           A  3581    .LINE 338
                           A  3582    
04158B 01170000            A  3583    	LD	BC,23
04158F C5                  A  3584    	PUSH	BC
041590 CD DA 18 04         A  3585    	CALL	_putch
041594 C1                  A  3586    	POP	BC
                           A  3587    ;  339		putch(27); // sprite command
                           A  3588    .LINE 339
                           A  3589    
041595 011B0000            A  3590    	LD	BC,27
041599 C5                  A  3591    	PUSH	BC
04159A CD DA 18 04         A  3592    	CALL	_putch
04159E C1                  A  3593    	POP	BC
                           A  3594    ;  340		putch(12); // hide sprite
                           A  3595    .LINE 340
                           A  3596    
04159F 010C0000            A  3597    	LD	BC,12
0415A3 C5                  A  3598    	PUSH	BC
0415A4 CD DA 18 04         A  3599    	CALL	_putch
0415A8 C1                  A  3600    	POP	BC
                           A  3601    ;  341		return;		
                           A  3602    ;  342	}
                           A  3603    .LINE 342
                           A  3604    
0415A9 DDF9                A  3605    	LD	SP,IX
0415AB DDE1                A  3606    	POP	IX
0415AD C9                  A  3607    	RET	
                           A  3608    
                           A  3609    
                           A  3610    ;**************************** _vdp_spriteHideSe
                           A  3611    ;Name                         Addr/Register   S
                           A  3612    ;_putch                              IMPORT  --
                           A  3613    
                           A  3614    
                           A  3615    ; Stack Frame Size: 6 (bytes)
                           A  3616    ;       Spill Code: 0 (instruction)
                           A  3617    
                           A  3618    
                           A  3619    .ENDFUNC "vdp_spriteHideSelected",342,"_vdp_spr
                           A  3620    ;  343	
                           A  3621    ;  344	void vdp_spriteHide(UINT8 id)
                           A  3622    ;  345	{
0415AE                     A  3623    _vdp_spriteHide:
                           A  3624    .DEFINE "_vdp_spriteHide"
                           A  3625    
                           A  3626    .VALUE _vdp_spriteHide
                           A  3627    
                           A  3628    .CLASS 2
                           A  3629    
                           A  3630    .TYPE 65
                           A  3631    
                           A  3632    .ENDEF
                           A  3633    
                           A  3634    .BEGFUNC "vdp_spriteHide",345,"_vdp_spriteHide"
                           A  3635    
                           A  3636    .LINE 345
                           A  3637    
                           A  3638    .DEFINE "id"
                           A  3639    
                           A  3640    .CLASS 65
                           A  3641    
                           A  3642    .VALUE 6
                           A  3643    
                           A  3644    .TYPE 12
                           A  3645    
                           A  3646    .ENDEF
                           A  3647    
0415AE DDE5                A  3648    	PUSH	IX
0415B0 DD210000 00         A  3649    	LD	IX,0
0415B5 DD39                A  3650    	ADD	IX,SP
                           A  3651    ;  346		vdp_spriteSelect(id);
                           A  3652    .LINE 346
                           A  3653    
0415B7 DD4E06              A  3654    	LD	C,(IX+%6)
0415BA 0600                A  3655    	LD	B,%0
0415BC C5                  A  3656    	PUSH	BC
0415BD CD 6B 13 04         A  3657    	CALL	_vdp_spriteSelect
0415C1 C1                  A  3658    	POP	BC
                           A  3659    ;  347		vdp_spriteHideSelected();
                           A  3660    .LINE 347
                           A  3661    
0415C2 CD 82 15 04         A  3662    	CALL	_vdp_spriteHideSelected
                           A  3663    ;  348		return;
                           A  3664    ;  349	}
                           A  3665    .LINE 349
                           A  3666    
0415C6 DDF9                A  3667    	LD	SP,IX
0415C8 DDE1                A  3668    	POP	IX
0415CA C9                  A  3669    	RET	
                           A  3670    
                           A  3671    
                           A  3672    ;**************************** _vdp_spriteHide *
                           A  3673    ;Name                         Addr/Register   S
                           A  3674    ;_vdp_spriteHideSelected             IMPORT  --
                           A  3675    ;_vdp_spriteSelect                   IMPORT  --
                           A  3676    ;id                                    IX+6    
                           A  3677    
                           A  3678    
                           A  3679    ; Stack Frame Size: 9 (bytes)
                           A  3680    ;       Spill Code: 0 (instruction)
                           A  3681    
                           A  3682    
                           A  3683    .ENDFUNC "vdp_spriteHide",349,"_vdp_spriteHide"
                           A  3684    ;  350	
                           A  3685    ;  351	void vdp_spriteMoveToSelected(UINT16 x,
                           A  3686    ;  352	{
0415CB                     A  3687    _vdp_spriteMoveToSelected:
                           A  3688    .DEFINE "_vdp_spriteMoveToSelected"
                           A  3689    
                           A  3690    .VALUE _vdp_spriteMoveToSelected
                           A  3691    
                           A  3692    .CLASS 2
                           A  3693    
                           A  3694    .TYPE 65
                           A  3695    
                           A  3696    .ENDEF
                           A  3697    
                           A  3698    .BEGFUNC "vdp_spriteMoveToSelected",352,"_vdp_s
                           A  3699    
                           A  3700    .LINE 352
                           A  3701    
                           A  3702    .DEFINE "x"
                           A  3703    
                           A  3704    .CLASS 65
                           A  3705    
                           A  3706    .VALUE 6
                           A  3707    
                           A  3708    .TYPE 13
                           A  3709    
                           A  3710    .ENDEF
                           A  3711    
                           A  3712    .DEFINE "y"
                           A  3713    
                           A  3714    .CLASS 65
                           A  3715    
                           A  3716    .VALUE 9
                           A  3717    
                           A  3718    .TYPE 13
                           A  3719    
                           A  3720    .ENDEF
                           A  3721    
0415CB DDE5                A  3722    	PUSH	IX
0415CD DD210000 00         A  3723    	LD	IX,0
0415D2 DD39                A  3724    	ADD	IX,SP
                           A  3725    ;  353		putch(23); // vdu_sys
                           A  3726    .LINE 353
                           A  3727    
0415D4 01170000            A  3728    	LD	BC,23
0415D8 C5                  A  3729    	PUSH	BC
0415D9 CD DA 18 04         A  3730    	CALL	_putch
0415DD C1                  A  3731    	POP	BC
                           A  3732    ;  354		putch(27); // sprite command
                           A  3733    .LINE 354
                           A  3734    
0415DE 011B0000            A  3735    	LD	BC,27
0415E2 C5                  A  3736    	PUSH	BC
0415E3 CD DA 18 04         A  3737    	CALL	_putch
0415E7 C1                  A  3738    	POP	BC
                           A  3739    ;  355		putch(13); // move to
                           A  3740    .LINE 355
                           A  3741    
0415E8 010D0000            A  3742    	LD	BC,13
0415EC C5                  A  3743    	PUSH	BC
0415ED CD DA 18 04         A  3744    	CALL	_putch
0415F1 C1                  A  3745    	POP	BC
                           A  3746    ;  356		write16bit(x);
                           A  3747    .LINE 356
                           A  3748    
0415F2 DD0706              A  3749    	LD	BC,(IX+%6)
0415F5 C5                  A  3750    	PUSH	BC
0415F6 CD 18 0D 04         A  3751    	CALL	_write16bit
0415FA C1                  A  3752    	POP	BC
                           A  3753    ;  357		write16bit(y);
                           A  3754    .LINE 357
                           A  3755    
0415FB DD0709              A  3756    	LD	BC,(IX+%9)
0415FE C5                  A  3757    	PUSH	BC
0415FF CD 18 0D 04         A  3758    	CALL	_write16bit
041603 C1                  A  3759    	POP	BC
                           A  3760    ;  358		return;	
                           A  3761    ;  359	}
                           A  3762    .LINE 359
                           A  3763    
041604 DDF9                A  3764    	LD	SP,IX
041606 DDE1                A  3765    	POP	IX
041608 C9                  A  3766    	RET	
                           A  3767    
                           A  3768    
                           A  3769    ;**************************** _vdp_spriteMoveTo
                           A  3770    ;Name                         Addr/Register   S
                           A  3771    ;_putch                              IMPORT  --
                           A  3772    ;y                                     IX+9    
                           A  3773    ;x                                     IX+6    
                           A  3774    
                           A  3775    
                           A  3776    ; Stack Frame Size: 12 (bytes)
                           A  3777    ;       Spill Code: 0 (instruction)
                           A  3778    
                           A  3779    
                           A  3780    .ENDFUNC "vdp_spriteMoveToSelected",359,"_vdp_s
                           A  3781    ;  360	
                           A  3782    ;  361	void vdp_spriteMoveTo(UINT8 id, UINT16 
                           A  3783    ;  362	{
041609                     A  3784    _vdp_spriteMoveTo:
                           A  3785    .DEFINE "_vdp_spriteMoveTo"
                           A  3786    
                           A  3787    .VALUE _vdp_spriteMoveTo
                           A  3788    
                           A  3789    .CLASS 2
                           A  3790    
                           A  3791    .TYPE 65
                           A  3792    
                           A  3793    .ENDEF
                           A  3794    
                           A  3795    .BEGFUNC "vdp_spriteMoveTo",362,"_vdp_spriteMov
                           A  3796    
                           A  3797    .LINE 362
                           A  3798    
                           A  3799    .DEFINE "id"
                           A  3800    
                           A  3801    .CLASS 65
                           A  3802    
                           A  3803    .VALUE 6
                           A  3804    
                           A  3805    .TYPE 12
                           A  3806    
                           A  3807    .ENDEF
                           A  3808    
                           A  3809    .DEFINE "x"
                           A  3810    
                           A  3811    .CLASS 65
                           A  3812    
                           A  3813    .VALUE 9
                           A  3814    
                           A  3815    .TYPE 13
                           A  3816    
                           A  3817    .ENDEF
                           A  3818    
                           A  3819    .DEFINE "y"
                           A  3820    
                           A  3821    .CLASS 65
                           A  3822    
                           A  3823    .VALUE 12
                           A  3824    
                           A  3825    .TYPE 13
                           A  3826    
                           A  3827    .ENDEF
                           A  3828    
041609 DDE5                A  3829    	PUSH	IX
04160B DD210000 00         A  3830    	LD	IX,0
041610 DD39                A  3831    	ADD	IX,SP
                           A  3832    ;  363		vdp_spriteSelect(id);
                           A  3833    .LINE 363
                           A  3834    
041612 DD4E06              A  3835    	LD	C,(IX+%6)
041615 0600                A  3836    	LD	B,%0
041617 C5                  A  3837    	PUSH	BC
041618 CD 6B 13 04         A  3838    	CALL	_vdp_spriteSelect
04161C C1                  A  3839    	POP	BC
                           A  3840    ;  364		vdp_spriteMoveToSelected(x,y);
                           A  3841    .LINE 364
                           A  3842    
04161D DD070C              A  3843    	LD	BC,(IX+%C)
041620 C5                  A  3844    	PUSH	BC
041621 DD0709              A  3845    	LD	BC,(IX+%9)
041624 C5                  A  3846    	PUSH	BC
041625 CD CB 15 04         A  3847    	CALL	_vdp_spriteMoveToSelected
041629 C1                  A  3848    	POP	BC
04162A C1                  A  3849    	POP	BC
                           A  3850    ;  365		return;
                           A  3851    ;  366	}
                           A  3852    .LINE 366
                           A  3853    
04162B DDF9                A  3854    	LD	SP,IX
04162D DDE1                A  3855    	POP	IX
04162F C9                  A  3856    	RET	
                           A  3857    
                           A  3858    
                           A  3859    ;**************************** _vdp_spriteMoveTo
                           A  3860    ;Name                         Addr/Register   S
                           A  3861    ;_vdp_spriteMoveToSelected           IMPORT  --
                           A  3862    ;_vdp_spriteSelect                   IMPORT  --
                           A  3863    ;y                                    IX+12    
                           A  3864    ;x                                     IX+9    
                           A  3865    ;id                                    IX+6    
                           A  3866    
                           A  3867    
                           A  3868    ; Stack Frame Size: 15 (bytes)
                           A  3869    ;       Spill Code: 0 (instruction)
                           A  3870    
                           A  3871    
                           A  3872    .ENDFUNC "vdp_spriteMoveTo",366,"_vdp_spriteMov
                           A  3873    ;  367	
                           A  3874    ;  368	void vdp_spriteMoveBySelected(UINT16 x,
                           A  3875    ;  369	{
041630                     A  3876    _vdp_spriteMoveBySelected:
                           A  3877    .DEFINE "_vdp_spriteMoveBySelected"
                           A  3878    
                           A  3879    .VALUE _vdp_spriteMoveBySelected
                           A  3880    
                           A  3881    .CLASS 2
                           A  3882    
                           A  3883    .TYPE 65
                           A  3884    
                           A  3885    .ENDEF
                           A  3886    
                           A  3887    .BEGFUNC "vdp_spriteMoveBySelected",369,"_vdp_s
                           A  3888    
                           A  3889    .LINE 369
                           A  3890    
                           A  3891    .DEFINE "x"
                           A  3892    
                           A  3893    .CLASS 65
                           A  3894    
                           A  3895    .VALUE 6
                           A  3896    
                           A  3897    .TYPE 13
                           A  3898    
                           A  3899    .ENDEF
                           A  3900    
                           A  3901    .DEFINE "y"
                           A  3902    
                           A  3903    .CLASS 65
                           A  3904    
                           A  3905    .VALUE 9
                           A  3906    
                           A  3907    .TYPE 13
                           A  3908    
                           A  3909    .ENDEF
                           A  3910    
041630 DDE5                A  3911    	PUSH	IX
041632 DD210000 00         A  3912    	LD	IX,0
041637 DD39                A  3913    	ADD	IX,SP
                           A  3914    ;  370		putch(23); // vdu_sys
                           A  3915    .LINE 370
                           A  3916    
041639 01170000            A  3917    	LD	BC,23
04163D C5                  A  3918    	PUSH	BC
04163E CD DA 18 04         A  3919    	CALL	_putch
041642 C1                  A  3920    	POP	BC
                           A  3921    ;  371		putch(27); // sprite command
                           A  3922    .LINE 371
                           A  3923    
041643 011B0000            A  3924    	LD	BC,27
041647 C5                  A  3925    	PUSH	BC
041648 CD DA 18 04         A  3926    	CALL	_putch
04164C C1                  A  3927    	POP	BC
                           A  3928    ;  372		putch(14); // move by
                           A  3929    .LINE 372
                           A  3930    
04164D 010E0000            A  3931    	LD	BC,14
041651 C5                  A  3932    	PUSH	BC
041652 CD DA 18 04         A  3933    	CALL	_putch
041656 C1                  A  3934    	POP	BC
                           A  3935    ;  373		write16bit(x);
                           A  3936    .LINE 373
                           A  3937    
041657 DD0706              A  3938    	LD	BC,(IX+%6)
04165A C5                  A  3939    	PUSH	BC
04165B CD 18 0D 04         A  3940    	CALL	_write16bit
04165F C1                  A  3941    	POP	BC
                           A  3942    ;  374		write16bit(y);
                           A  3943    .LINE 374
                           A  3944    
041660 DD0709              A  3945    	LD	BC,(IX+%9)
041663 C5                  A  3946    	PUSH	BC
041664 CD 18 0D 04         A  3947    	CALL	_write16bit
041668 C1                  A  3948    	POP	BC
                           A  3949    ;  375		return;	
                           A  3950    ;  376	}
                           A  3951    .LINE 376
                           A  3952    
041669 DDF9                A  3953    	LD	SP,IX
04166B DDE1                A  3954    	POP	IX
04166D C9                  A  3955    	RET	
                           A  3956    
                           A  3957    
                           A  3958    ;**************************** _vdp_spriteMoveBy
                           A  3959    ;Name                         Addr/Register   S
                           A  3960    ;_putch                              IMPORT  --
                           A  3961    ;y                                     IX+9    
                           A  3962    ;x                                     IX+6    
                           A  3963    
                           A  3964    
                           A  3965    ; Stack Frame Size: 12 (bytes)
                           A  3966    ;       Spill Code: 0 (instruction)
                           A  3967    
                           A  3968    
                           A  3969    .ENDFUNC "vdp_spriteMoveBySelected",376,"_vdp_s
                           A  3970    ;  377	
                           A  3971    ;  378	void vdp_spriteMoveBy(UINT8 id, UINT16 
                           A  3972    ;  379	{
04166E                     A  3973    _vdp_spriteMoveBy:
                           A  3974    .DEFINE "_vdp_spriteMoveBy"
                           A  3975    
                           A  3976    .VALUE _vdp_spriteMoveBy
                           A  3977    
                           A  3978    .CLASS 2
                           A  3979    
                           A  3980    .TYPE 65
                           A  3981    
                           A  3982    .ENDEF
                           A  3983    
                           A  3984    .BEGFUNC "vdp_spriteMoveBy",379,"_vdp_spriteMov
                           A  3985    
                           A  3986    .LINE 379
                           A  3987    
                           A  3988    .DEFINE "id"
                           A  3989    
                           A  3990    .CLASS 65
                           A  3991    
                           A  3992    .VALUE 6
                           A  3993    
                           A  3994    .TYPE 12
                           A  3995    
                           A  3996    .ENDEF
                           A  3997    
                           A  3998    .DEFINE "x"
                           A  3999    
                           A  4000    .CLASS 65
                           A  4001    
                           A  4002    .VALUE 9
                           A  4003    
                           A  4004    .TYPE 13
                           A  4005    
                           A  4006    .ENDEF
                           A  4007    
                           A  4008    .DEFINE "y"
                           A  4009    
                           A  4010    .CLASS 65
                           A  4011    
                           A  4012    .VALUE 12
                           A  4013    
                           A  4014    .TYPE 13
                           A  4015    
                           A  4016    .ENDEF
                           A  4017    
04166E DDE5                A  4018    	PUSH	IX
041670 DD210000 00         A  4019    	LD	IX,0
041675 DD39                A  4020    	ADD	IX,SP
                           A  4021    ;  380		vdp_spriteSelect(id);
                           A  4022    .LINE 380
                           A  4023    
041677 DD4E06              A  4024    	LD	C,(IX+%6)
04167A 0600                A  4025    	LD	B,%0
04167C C5                  A  4026    	PUSH	BC
04167D CD 6B 13 04         A  4027    	CALL	_vdp_spriteSelect
041681 C1                  A  4028    	POP	BC
                           A  4029    ;  381		vdp_spriteMoveBySelected(x,y);
                           A  4030    .LINE 381
                           A  4031    
041682 DD070C              A  4032    	LD	BC,(IX+%C)
041685 C5                  A  4033    	PUSH	BC
041686 DD0709              A  4034    	LD	BC,(IX+%9)
041689 C5                  A  4035    	PUSH	BC
04168A CD 30 16 04         A  4036    	CALL	_vdp_spriteMoveBySelected
04168E C1                  A  4037    	POP	BC
04168F C1                  A  4038    	POP	BC
                           A  4039    ;  382		return;
                           A  4040    ;  383	}
                           A  4041    .LINE 383
                           A  4042    
041690 DDF9                A  4043    	LD	SP,IX
041692 DDE1                A  4044    	POP	IX
041694 C9                  A  4045    	RET	
                           A  4046    
                           A  4047    
                           A  4048    ;**************************** _vdp_spriteMoveBy
                           A  4049    ;Name                         Addr/Register   S
                           A  4050    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  4051    ;_vdp_spriteSelect                   IMPORT  --
                           A  4052    ;y                                    IX+12    
                           A  4053    ;x                                     IX+9    
                           A  4054    ;id                                    IX+6    
                           A  4055    
                           A  4056    
                           A  4057    ; Stack Frame Size: 15 (bytes)
                           A  4058    ;       Spill Code: 0 (instruction)
                           A  4059    
                           A  4060    
                           A  4061    .ENDFUNC "vdp_spriteMoveBy",383,"_vdp_spriteMov
                           A  4062    ;  384	
                           A  4063    ;  385	void vdp_spriteActivateTotal(UINT8 numb
                           A  4064    ;  386	{
041695                     A  4065    _vdp_spriteActivateTotal:
                           A  4066    .DEFINE "_vdp_spriteActivateTotal"
                           A  4067    
                           A  4068    .VALUE _vdp_spriteActivateTotal
                           A  4069    
                           A  4070    .CLASS 2
                           A  4071    
                           A  4072    .TYPE 65
                           A  4073    
                           A  4074    .ENDEF
                           A  4075    
                           A  4076    .BEGFUNC "vdp_spriteActivateTotal",386,"_vdp_sp
                           A  4077    
                           A  4078    .LINE 386
                           A  4079    
                           A  4080    .DEFINE "number"
                           A  4081    
                           A  4082    .CLASS 65
                           A  4083    
                           A  4084    .VALUE 6
                           A  4085    
                           A  4086    .TYPE 12
                           A  4087    
                           A  4088    .ENDEF
                           A  4089    
041695 DDE5                A  4090    	PUSH	IX
041697 DD210000 00         A  4091    	LD	IX,0
04169C DD39                A  4092    	ADD	IX,SP
                           A  4093    ;  387		putch(23); // vdu_sys
                           A  4094    .LINE 387
                           A  4095    
04169E 01170000            A  4096    	LD	BC,23
0416A2 C5                  A  4097    	PUSH	BC
0416A3 CD DA 18 04         A  4098    	CALL	_putch
0416A7 C1                  A  4099    	POP	BC
                           A  4100    ;  388		putch(27); // sprite command
                           A  4101    .LINE 388
                           A  4102    
0416A8 011B0000            A  4103    	LD	BC,27
0416AC C5                  A  4104    	PUSH	BC
0416AD CD DA 18 04         A  4105    	CALL	_putch
0416B1 C1                  A  4106    	POP	BC
                           A  4107    ;  389		putch(7);  // set number of sprites
                           A  4108    .LINE 389
                           A  4109    
0416B2 01070000            A  4110    	LD	BC,7
0416B6 C5                  A  4111    	PUSH	BC
0416B7 CD DA 18 04         A  4112    	CALL	_putch
0416BB C1                  A  4113    	POP	BC
                           A  4114    ;  390		putch(number);
                           A  4115    .LINE 390
                           A  4116    
0416BC DD7E06              A  4117    	LD	A,(IX+%6)
0416BF B7ED62              A  4118    	UEXT	HL
0416C2 6F                  A  4119    	LD	L,A
0416C3 E5                  A  4120    	PUSH	HL
0416C4 CD DA 18 04         A  4121    	CALL	_putch
0416C8 C1                  A  4122    	POP	BC
                           A  4123    ;  391		return;	
                           A  4124    ;  392	}
                           A  4125    .LINE 392
                           A  4126    
0416C9 DDF9                A  4127    	LD	SP,IX
0416CB DDE1                A  4128    	POP	IX
0416CD C9                  A  4129    	RET	
                           A  4130    
                           A  4131    
                           A  4132    ;**************************** _vdp_spriteActiva
                           A  4133    ;Name                         Addr/Register   S
                           A  4134    ;_putch                              IMPORT  --
                           A  4135    ;number                                IX+6    
                           A  4136    
                           A  4137    
                           A  4138    ; Stack Frame Size: 9 (bytes)
                           A  4139    ;       Spill Code: 0 (instruction)
                           A  4140    
                           A  4141    
                           A  4142    .ENDFUNC "vdp_spriteActivateTotal",392,"_vdp_sp
                           A  4143    ;  393	
                           A  4144    ;  394	void vdp_spriteRefresh(void)
                           A  4145    ;  395	{
0416CE                     A  4146    _vdp_spriteRefresh:
                           A  4147    .DEFINE "_vdp_spriteRefresh"
                           A  4148    
                           A  4149    .VALUE _vdp_spriteRefresh
                           A  4150    
                           A  4151    .CLASS 2
                           A  4152    
                           A  4153    .TYPE 65
                           A  4154    
                           A  4155    .ENDEF
                           A  4156    
                           A  4157    .BEGFUNC "vdp_spriteRefresh",395,"_vdp_spriteRe
                           A  4158    
0416CE DDE5                A  4159    	PUSH	IX
0416D0 DD210000 00         A  4160    	LD	IX,0
0416D5 DD39                A  4161    	ADD	IX,SP
                           A  4162    ;  396		putch(23);	// vdu_sys
                           A  4163    .LINE 396
                           A  4164    
0416D7 01170000            A  4165    	LD	BC,23
0416DB C5                  A  4166    	PUSH	BC
0416DC CD DA 18 04         A  4167    	CALL	_putch
0416E0 C1                  A  4168    	POP	BC
                           A  4169    ;  397		putch(27);	// sprite command
                           A  4170    .LINE 397
                           A  4171    
0416E1 011B0000            A  4172    	LD	BC,27
0416E5 C5                  A  4173    	PUSH	BC
0416E6 CD DA 18 04         A  4174    	CALL	_putch
0416EA C1                  A  4175    	POP	BC
                           A  4176    ;  398		putch(15);	// refresh all sprites
                           A  4177    .LINE 398
                           A  4178    
0416EB 010F0000            A  4179    	LD	BC,15
0416EF C5                  A  4180    	PUSH	BC
0416F0 CD DA 18 04         A  4181    	CALL	_putch
0416F4 C1                  A  4182    	POP	BC
                           A  4183    ;  399		return;
                           A  4184    ;  400	}
                           A  4185    .LINE 400
                           A  4186    
0416F5 DDF9                A  4187    	LD	SP,IX
0416F7 DDE1                A  4188    	POP	IX
0416F9 C9                  A  4189    	RET	
                           A  4190    
                           A  4191    
                           A  4192    ;**************************** _vdp_spriteRefres
                           A  4193    ;Name                         Addr/Register   S
                           A  4194    ;_putch                              IMPORT  --
                           A  4195    
                           A  4196    
                           A  4197    ; Stack Frame Size: 6 (bytes)
                           A  4198    ;       Spill Code: 0 (instruction)
                           A  4199    
                           A  4200    
                           A  4201    .ENDFUNC "vdp_spriteRefresh",400,"_vdp_spriteRe
                           A  4202    ;  401	
                           A  4203    ;  402	UINT8 vdp_cursorGetXpos(void)
                           A  4204    ;  403	{
0416FA                     A  4205    _vdp_cursorGetXpos:
                           A  4206    .DEFINE "_vdp_cursorGetXpos"
                           A  4207    
                           A  4208    .VALUE _vdp_cursorGetXpos
                           A  4209    
                           A  4210    .CLASS 2
                           A  4211    
                           A  4212    .TYPE 76
                           A  4213    
                           A  4214    .ENDEF
                           A  4215    
                           A  4216    .BEGFUNC "vdp_cursorGetXpos",403,"_vdp_cursorGe
                           A  4217    
                           A  4218    .LINE 403
                           A  4219    
                           A  4220    .DEFINE "delay"
                           A  4221    
                           A  4222    .CLASS 65
                           A  4223    
                           A  4224    .VALUE -3
                           A  4225    
                           A  4226    .TYPE 14
                           A  4227    
                           A  4228    .ENDEF
                           A  4229    
0416FA DDE5                A  4230    	PUSH	IX
0416FC DD210000 00         A  4231    	LD	IX,0
041701 DD39                A  4232    	ADD	IX,SP
041703 C5                  A  4233    	PUSH	BC
                           A  4234    ;  404		unsigned int delay;
                           A  4235    ;  405		
                           A  4236    ;  406		putch(23);	// VDP command
                           A  4237    .LINE 406
                           A  4238    
041704 01170000            A  4239    	LD	BC,23
041708 C5                  A  4240    	PUSH	BC
041709 CD DA 18 04         A  4241    	CALL	_putch
04170D C1                  A  4242    	POP	BC
                           A  4243    ;  407		putch(0);	// VDP command
                           A  4244    .LINE 407
                           A  4245    
04170E 01000000            A  4246    	LD	BC,0
041712 C5                  A  4247    	PUSH	BC
041713 CD DA 18 04         A  4248    	CALL	_putch
041717 C1                  A  4249    	POP	BC
                           A  4250    ;  408		putch(0x82);	// Request cursor p
                           A  4251    .LINE 408
                           A  4252    
041718 01820000            A  4253    	LD	BC,130
04171C C5                  A  4254    	PUSH	BC
04171D CD DA 18 04         A  4255    	CALL	_putch
041721 C1                  A  4256    	POP	BC
                           A  4257    ;  409		
                           A  4258    ;  410		delay = 255;
                           A  4259    .LINE 410
                           A  4260    
041722 01FF0000            A  4261    	LD	BC,255
041726 DD0FFD              A  4262    	LD	(IX+%FFFFFFFD),BC
                           A  4263    ;  411		while(delay--);
041729                     A  4264    L_57:
                           A  4265    .LINE 411
                           A  4266    
041729 DD27FD              A  4267    	LD	HL,(IX+%FFFFFFFD)
04172C DD31FD              A  4268    	LD	IY,(IX+%FFFFFFFD)
04172F ED33FF              A  4269    	LEA	IY,IY+%FFFFFFFF
041732 DD3EFD              A  4270    	LD	(IX+%FFFFFFFD),IY
041735 01000000            A  4271    	LD	BC,0
041739 B7                  A  4272    	OR	A,A
04173A ED42                A  4273    	SBC	HL,BC
04173C 20 EB               A  4274    	JR	NZ,L_57
                           A  4275    ;  412		return(getsysvar_cursorX());
                           A  4276    .LINE 412
                           A  4277    
04173E CD 4B 19 04         A  4278    	CALL	_getsysvar_cursorX
                           A  4279    ;  413	
                           A  4280    ;  414	}
                           A  4281    .LINE 414
                           A  4282    
041742 DDF9                A  4283    	LD	SP,IX
041744 DDE1                A  4284    	POP	IX
041746 C9                  A  4285    	RET	
                           A  4286    
                           A  4287    
                           A  4288    ;**************************** _vdp_cursorGetXpo
                           A  4289    ;Name                         Addr/Register   S
                           A  4290    ;_getsysvar_cursorX                  IMPORT  --
                           A  4291    ;_putch                              IMPORT  --
                           A  4292    ;delay                                 IX-3    
                           A  4293    
                           A  4294    
                           A  4295    ; Stack Frame Size: 9 (bytes)
                           A  4296    ;       Spill Code: 0 (instruction)
                           A  4297    
                           A  4298    
                           A  4299    .ENDFUNC "vdp_cursorGetXpos",414,"_vdp_cursorGe
                           A  4300    ;  415	
                           A  4301    ;  416	UINT8 vdp_cursorGetYpos(void)
                           A  4302    ;  417	{
041747                     A  4303    _vdp_cursorGetYpos:
                           A  4304    .DEFINE "_vdp_cursorGetYpos"
                           A  4305    
                           A  4306    .VALUE _vdp_cursorGetYpos
                           A  4307    
                           A  4308    .CLASS 2
                           A  4309    
                           A  4310    .TYPE 76
                           A  4311    
                           A  4312    .ENDEF
                           A  4313    
                           A  4314    .BEGFUNC "vdp_cursorGetYpos",417,"_vdp_cursorGe
                           A  4315    
                           A  4316    .LINE 417
                           A  4317    
                           A  4318    .DEFINE "delay"
                           A  4319    
                           A  4320    .CLASS 65
                           A  4321    
                           A  4322    .VALUE -3
                           A  4323    
                           A  4324    .TYPE 14
                           A  4325    
                           A  4326    .ENDEF
                           A  4327    
041747 DDE5                A  4328    	PUSH	IX
041749 DD210000 00         A  4329    	LD	IX,0
04174E DD39                A  4330    	ADD	IX,SP
041750 C5                  A  4331    	PUSH	BC
                           A  4332    ;  418		unsigned int delay;
                           A  4333    ;  419		
                           A  4334    ;  420		putch(23);	// VDP command
                           A  4335    .LINE 420
                           A  4336    
041751 01170000            A  4337    	LD	BC,23
041755 C5                  A  4338    	PUSH	BC
041756 CD DA 18 04         A  4339    	CALL	_putch
04175A C1                  A  4340    	POP	BC
                           A  4341    ;  421		putch(0);	// VDP command
                           A  4342    .LINE 421
                           A  4343    
04175B 01000000            A  4344    	LD	BC,0
04175F C5                  A  4345    	PUSH	BC
041760 CD DA 18 04         A  4346    	CALL	_putch
041764 C1                  A  4347    	POP	BC
                           A  4348    ;  422		putch(0x82);	// Request cursor p
                           A  4349    .LINE 422
                           A  4350    
041765 01820000            A  4351    	LD	BC,130
041769 C5                  A  4352    	PUSH	BC
04176A CD DA 18 04         A  4353    	CALL	_putch
04176E C1                  A  4354    	POP	BC
                           A  4355    ;  423		
                           A  4356    ;  424		delay = 255;
                           A  4357    .LINE 424
                           A  4358    
04176F 01FF0000            A  4359    	LD	BC,255
041773 DD0FFD              A  4360    	LD	(IX+%FFFFFFFD),BC
                           A  4361    ;  425		while(delay--);
041776                     A  4362    L_62:
                           A  4363    .LINE 425
                           A  4364    
041776 DD27FD              A  4365    	LD	HL,(IX+%FFFFFFFD)
041779 DD31FD              A  4366    	LD	IY,(IX+%FFFFFFFD)
04177C ED33FF              A  4367    	LEA	IY,IY+%FFFFFFFF
04177F DD3EFD              A  4368    	LD	(IX+%FFFFFFFD),IY
041782 01000000            A  4369    	LD	BC,0
041786 B7                  A  4370    	OR	A,A
041787 ED42                A  4371    	SBC	HL,BC
041789 20 EB               A  4372    	JR	NZ,L_62
                           A  4373    ;  426		return(getsysvar_cursorY());
                           A  4374    .LINE 426
                           A  4375    
04178B CD 57 19 04         A  4376    	CALL	_getsysvar_cursorY
                           A  4377    ;  427	}
                           A  4378    .LINE 427
                           A  4379    
04178F DDF9                A  4380    	LD	SP,IX
041791 DDE1                A  4381    	POP	IX
041793 C9                  A  4382    	RET	
                           A  4383    
                           A  4384    
                           A  4385    ;**************************** _vdp_cursorGetYpo
                           A  4386    ;Name                         Addr/Register   S
                           A  4387    ;_getsysvar_cursorY                  IMPORT  --
                           A  4388    ;_putch                              IMPORT  --
                           A  4389    ;delay                                 IX-3    
                           A  4390    
                           A  4391    
                           A  4392    ; Stack Frame Size: 9 (bytes)
                           A  4393    ;       Spill Code: 0 (instruction)
                           A  4394    
                           A  4395    
                           A  4396    .ENDFUNC "vdp_cursorGetYpos",427,"_vdp_cursorGe
                           A  4397    ;  428	
                           A  4398    ;  429	char vdp_asciiCodeAt(unsigned char x, u
                           A  4399    ;  430	{
041794                     A  4400    _vdp_asciiCodeAt:
                           A  4401    .DEFINE "_vdp_asciiCodeAt"
                           A  4402    
                           A  4403    .VALUE _vdp_asciiCodeAt
                           A  4404    
                           A  4405    .CLASS 2
                           A  4406    
                           A  4407    .TYPE 66
                           A  4408    
                           A  4409    .ENDEF
                           A  4410    
                           A  4411    .BEGFUNC "vdp_asciiCodeAt",430,"_vdp_asciiCodeA
                           A  4412    
                           A  4413    .LINE 430
                           A  4414    
                           A  4415    .DEFINE "x"
                           A  4416    
                           A  4417    .CLASS 65
                           A  4418    
                           A  4419    .VALUE 6
                           A  4420    
                           A  4421    .TYPE 12
                           A  4422    
                           A  4423    .ENDEF
                           A  4424    
                           A  4425    .DEFINE "y"
                           A  4426    
                           A  4427    .CLASS 65
                           A  4428    
                           A  4429    .VALUE 9
                           A  4430    
                           A  4431    .TYPE 12
                           A  4432    
                           A  4433    .ENDEF
                           A  4434    
                           A  4435    .DEFINE "delay"
                           A  4436    
                           A  4437    .CLASS 65
                           A  4438    
                           A  4439    .VALUE -3
                           A  4440    
                           A  4441    .TYPE 14
                           A  4442    
                           A  4443    .ENDEF
                           A  4444    
041794 DDE5                A  4445    	PUSH	IX
041796 DD210000 00         A  4446    	LD	IX,0
04179B DD39                A  4447    	ADD	IX,SP
04179D C5                  A  4448    	PUSH	BC
                           A  4449    ;  431		unsigned int delay;
                           A  4450    ;  432		
                           A  4451    ;  433		putch(23);	// VDP command
                           A  4452    .LINE 433
                           A  4453    
04179E 01170000            A  4454    	LD	BC,23
0417A2 C5                  A  4455    	PUSH	BC
0417A3 CD DA 18 04         A  4456    	CALL	_putch
0417A7 C1                  A  4457    	POP	BC
                           A  4458    ;  434		putch(0);	// VDP command
                           A  4459    .LINE 434
                           A  4460    
0417A8 01000000            A  4461    	LD	BC,0
0417AC C5                  A  4462    	PUSH	BC
0417AD CD DA 18 04         A  4463    	CALL	_putch
0417B1 C1                  A  4464    	POP	BC
                           A  4465    ;  435		putch(0x83);	// Request ascii co
                           A  4466    .LINE 435
                           A  4467    
0417B2 01830000            A  4468    	LD	BC,131
0417B6 C5                  A  4469    	PUSH	BC
0417B7 CD DA 18 04         A  4470    	CALL	_putch
0417BB C1                  A  4471    	POP	BC
                           A  4472    ;  436		putch(x);
                           A  4473    .LINE 436
                           A  4474    
0417BC DD7E06              A  4475    	LD	A,(IX+%6)
0417BF B7ED62              A  4476    	UEXT	HL
0417C2 6F                  A  4477    	LD	L,A
0417C3 E5                  A  4478    	PUSH	HL
0417C4 CD DA 18 04         A  4479    	CALL	_putch
0417C8 C1                  A  4480    	POP	BC
                           A  4481    ;  437		putch(0);
                           A  4482    .LINE 437
                           A  4483    
0417C9 01000000            A  4484    	LD	BC,0
0417CD C5                  A  4485    	PUSH	BC
0417CE CD DA 18 04         A  4486    	CALL	_putch
0417D2 C1                  A  4487    	POP	BC
                           A  4488    ;  438		putch(y);
                           A  4489    .LINE 438
                           A  4490    
0417D3 DD7E09              A  4491    	LD	A,(IX+%9)
0417D6 B7ED62              A  4492    	UEXT	HL
0417D9 6F                  A  4493    	LD	L,A
0417DA E5                  A  4494    	PUSH	HL
0417DB CD DA 18 04         A  4495    	CALL	_putch
0417DF C1                  A  4496    	POP	BC
                           A  4497    ;  439		putch(0);
                           A  4498    .LINE 439
                           A  4499    
0417E0 01000000            A  4500    	LD	BC,0
0417E4 C5                  A  4501    	PUSH	BC
0417E5 CD DA 18 04         A  4502    	CALL	_putch
0417E9 C1                  A  4503    	POP	BC
                           A  4504    ;  440		
                           A  4505    ;  441		delay = 64000;
                           A  4506    .LINE 441
                           A  4507    
0417EA 0100FA00            A  4508    	LD	BC,64000
0417EE DD0FFD              A  4509    	LD	(IX+%FFFFFFFD),BC
                           A  4510    ;  442		while(delay--);
0417F1                     A  4511    L_67:
                           A  4512    .LINE 442
                           A  4513    
0417F1 DD27FD              A  4514    	LD	HL,(IX+%FFFFFFFD)
0417F4 DD31FD              A  4515    	LD	IY,(IX+%FFFFFFFD)
0417F7 ED33FF              A  4516    	LEA	IY,IY+%FFFFFFFF
0417FA DD3EFD              A  4517    	LD	(IX+%FFFFFFFD),IY
0417FD 01000000            A  4518    	LD	BC,0
041801 B7                  A  4519    	OR	A,A
041802 ED42                A  4520    	SBC	HL,BC
041804 20 EB               A  4521    	JR	NZ,L_67
                           A  4522    ;  443		return(getsysvar_scrchar());
                           A  4523    .LINE 443
                           A  4524    
041806 CD 63 19 04         A  4525    	CALL	_getsysvar_scrchar
                           A  4526    ;  444	}
                           A  4527    .LINE 444
                           A  4528    
04180A DDF9                A  4529    	LD	SP,IX
04180C DDE1                A  4530    	POP	IX
04180E C9                  A  4531    	RET	
                           A  4532    
                           A  4533    
                           A  4534    ;**************************** _vdp_asciiCodeAt 
                           A  4535    ;Name                         Addr/Register   S
                           A  4536    ;_getsysvar_scrchar                  IMPORT  --
                           A  4537    ;_putch                              IMPORT  --
                           A  4538    ;delay                                 IX-3    
                           A  4539    ;y                                     IX+9    
                           A  4540    ;x                                     IX+6    
                           A  4541    
                           A  4542    
                           A  4543    ; Stack Frame Size: 15 (bytes)
                           A  4544    ;       Spill Code: 0 (instruction)
                           A  4545    
                           A  4546    
                           A  4547    .ENDFUNC "vdp_asciiCodeAt",444,"_vdp_asciiCodeA
                           A  4548    ;  445	
                           A  4549    ;  446	void  vdp_setpagedMode(bool mode) {
04180F                     A  4550    _vdp_setpagedMode:
                           A  4551    .DEFINE "_vdp_setpagedMode"
                           A  4552    
                           A  4553    .VALUE _vdp_setpagedMode
                           A  4554    
                           A  4555    .CLASS 2
                           A  4556    
                           A  4557    .TYPE 65
                           A  4558    
                           A  4559    .ENDEF
                           A  4560    
                           A  4561    .BEGFUNC "vdp_setpagedMode",446,"_vdp_setpagedM
                           A  4562    
                           A  4563    .LINE 446
                           A  4564    
                           A  4565    .DEFINE "mode"
                           A  4566    
                           A  4567    .CLASS 65
                           A  4568    
                           A  4569    .VALUE 6
                           A  4570    
                           A  4571    .TYPE 12
                           A  4572    
                           A  4573    .ENDEF
                           A  4574    
04180F DDE5                A  4575    	PUSH	IX
041811 DD210000 00         A  4576    	LD	IX,0
041816 DD39                A  4577    	ADD	IX,SP
                           A  4578    ;  447		if(mode) putch(0x0E);
                           A  4579    .LINE 447
                           A  4580    
041818 DD7E06              A  4581    	LD	A,(IX+%6)
04181B B7                  A  4582    	OR	A,A
04181C 28 0C               A  4583    	JR	Z,L_71
04181E 010E0000            A  4584    	LD	BC,14
041822 C5                  A  4585    	PUSH	BC
041823 CD DA 18 04         A  4586    	CALL	_putch
041827 C1                  A  4587    	POP	BC
                           A  4588    ;  448		else putch(0x0F);
                           A  4589    .LINE 448
                           A  4590    
041828 18 0A               A  4591    	JR	L_72
04182A                     A  4592    L_71:
04182A 010F0000            A  4593    	LD	BC,15
04182E C5                  A  4594    	PUSH	BC
04182F CD DA 18 04         A  4595    	CALL	_putch
041833 C1                  A  4596    	POP	BC
                           A  4597    ;  449	}
041834                     A  4598    L_72:
                           A  4599    .LINE 449
                           A  4600    
041834 DDF9                A  4601    	LD	SP,IX
041836 DDE1                A  4602    	POP	IX
041838 C9                  A  4603    	RET	
                           A  4604    
                           A  4605    
                           A  4606    ;**************************** _vdp_setpagedMode
                           A  4607    ;Name                         Addr/Register   S
                           A  4608    ;_putch                              IMPORT  --
                           A  4609    ;mode                                  IX+6    
                           A  4610    
                           A  4611    
                           A  4612    ; Stack Frame Size: 9 (bytes)
                           A  4613    ;       Spill Code: 0 (instruction)
                           A  4614    
                           A  4615    
                           A  4616    .ENDFUNC "vdp_setpagedMode",449,"_vdp_setpagedM
                           A  4617    ;  450	
                           A  4618    ;  451	void vdp_cursorDisable(void)
                           A  4619    ;  452	{
041839                     A  4620    _vdp_cursorDisable:
                           A  4621    .DEFINE "_vdp_cursorDisable"
                           A  4622    
                           A  4623    .VALUE _vdp_cursorDisable
                           A  4624    
                           A  4625    .CLASS 2
                           A  4626    
                           A  4627    .TYPE 65
                           A  4628    
                           A  4629    .ENDEF
                           A  4630    
                           A  4631    .BEGFUNC "vdp_cursorDisable",452,"_vdp_cursorDi
                           A  4632    
041839 DDE5                A  4633    	PUSH	IX
04183B DD210000 00         A  4634    	LD	IX,0
041840 DD39                A  4635    	ADD	IX,SP
                           A  4636    ;  453		putch(23);
                           A  4637    .LINE 453
                           A  4638    
041842 01170000            A  4639    	LD	BC,23
041846 C5                  A  4640    	PUSH	BC
041847 CD DA 18 04         A  4641    	CALL	_putch
04184B C1                  A  4642    	POP	BC
                           A  4643    ;  454		putch(1);
                           A  4644    .LINE 454
                           A  4645    
04184C 01010000            A  4646    	LD	BC,1
041850 C5                  A  4647    	PUSH	BC
041851 CD DA 18 04         A  4648    	CALL	_putch
041855 C1                  A  4649    	POP	BC
                           A  4650    ;  455		putch(0);
                           A  4651    .LINE 455
                           A  4652    
041856 01000000            A  4653    	LD	BC,0
04185A C5                  A  4654    	PUSH	BC
04185B CD DA 18 04         A  4655    	CALL	_putch
04185F C1                  A  4656    	POP	BC
                           A  4657    ;  456	}
                           A  4658    .LINE 456
                           A  4659    
041860 DDF9                A  4660    	LD	SP,IX
041862 DDE1                A  4661    	POP	IX
041864 C9                  A  4662    	RET	
                           A  4663    
                           A  4664    
                           A  4665    ;**************************** _vdp_cursorDisabl
                           A  4666    ;Name                         Addr/Register   S
                           A  4667    ;_putch                              IMPORT  --
                           A  4668    
                           A  4669    
                           A  4670    ; Stack Frame Size: 6 (bytes)
                           A  4671    ;       Spill Code: 0 (instruction)
                           A  4672    
                           A  4673    
                           A  4674    .ENDFUNC "vdp_cursorDisable",456,"_vdp_cursorDi
                           A  4675    ;  457	
                           A  4676    ;  458	void vdp_cursorEnable(void)
                           A  4677    ;  459	{
041865                     A  4678    _vdp_cursorEnable:
                           A  4679    .DEFINE "_vdp_cursorEnable"
                           A  4680    
                           A  4681    .VALUE _vdp_cursorEnable
                           A  4682    
                           A  4683    .CLASS 2
                           A  4684    
                           A  4685    .TYPE 65
                           A  4686    
                           A  4687    .ENDEF
                           A  4688    
                           A  4689    .BEGFUNC "vdp_cursorEnable",459,"_vdp_cursorEna
                           A  4690    
041865 DDE5                A  4691    	PUSH	IX
041867 DD210000 00         A  4692    	LD	IX,0
04186C DD39                A  4693    	ADD	IX,SP
                           A  4694    ;  460		putch(23);
                           A  4695    .LINE 460
                           A  4696    
04186E 01170000            A  4697    	LD	BC,23
041872 C5                  A  4698    	PUSH	BC
041873 CD DA 18 04         A  4699    	CALL	_putch
041877 C1                  A  4700    	POP	BC
                           A  4701    ;  461		putch(1);
                           A  4702    .LINE 461
                           A  4703    
041878 01010000            A  4704    	LD	BC,1
04187C C5                  A  4705    	PUSH	BC
04187D CD DA 18 04         A  4706    	CALL	_putch
041881 C1                  A  4707    	POP	BC
                           A  4708    ;  462		putch(1);
                           A  4709    .LINE 462
                           A  4710    
041882 01010000            A  4711    	LD	BC,1
041886 C5                  A  4712    	PUSH	BC
041887 CD DA 18 04         A  4713    	CALL	_putch
04188B C1                  A  4714    	POP	BC
                           A  4715    ;  463	}
                           A  4716    .LINE 463
                           A  4717    
04188C DDF9                A  4718    	LD	SP,IX
04188E DDE1                A  4719    	POP	IX
041890 C9                  A  4720    	RET	
                           A  4721    
                           A  4722    
                           A  4723    ;**************************** _vdp_cursorEnable
                           A  4724    ;Name                         Addr/Register   S
                           A  4725    ;_putch                              IMPORT  --
                           A  4726    
                           A  4727    
                           A  4728    ; Stack Frame Size: 6 (bytes)
                           A  4729    ;       Spill Code: 0 (instruction)
                           A  4730    
                           A  4731    
                           A  4732    .ENDFUNC "vdp_cursorEnable",463,"_vdp_cursorEna
                           A  4733    ;  464	
                           A  4734    ;  465	void vdp_scroll(unsigned char extent, u
                           A  4735    ;  466	{
041891                     A  4736    _vdp_scroll:
                           A  4737    .DEFINE "_vdp_scroll"
                           A  4738    
                           A  4739    .VALUE _vdp_scroll
                           A  4740    
                           A  4741    .CLASS 2
                           A  4742    
                           A  4743    .TYPE 65
                           A  4744    
                           A  4745    .ENDEF
                           A  4746    
                           A  4747    .BEGFUNC "vdp_scroll",466,"_vdp_scroll"
                           A  4748    
                           A  4749    .LINE 466
                           A  4750    
                           A  4751    .DEFINE "extent"
                           A  4752    
                           A  4753    .CLASS 65
                           A  4754    
                           A  4755    .VALUE 6
                           A  4756    
                           A  4757    .TYPE 12
                           A  4758    
                           A  4759    .ENDEF
                           A  4760    
                           A  4761    .DEFINE "direction"
                           A  4762    
                           A  4763    .CLASS 65
                           A  4764    
                           A  4765    .VALUE 9
                           A  4766    
                           A  4767    .TYPE 12
                           A  4768    
                           A  4769    .ENDEF
                           A  4770    
                           A  4771    .DEFINE "speed"
                           A  4772    
                           A  4773    .CLASS 65
                           A  4774    
                           A  4775    .VALUE 12
                           A  4776    
                           A  4777    .TYPE 12
                           A  4778    
                           A  4779    .ENDEF
                           A  4780    
041891 DDE5                A  4781    	PUSH	IX
041893 DD210000 00         A  4782    	LD	IX,0
041898 DD39                A  4783    	ADD	IX,SP
                           A  4784    ;  467		putch(23);
                           A  4785    .LINE 467
                           A  4786    
04189A 01170000            A  4787    	LD	BC,23
04189E C5                  A  4788    	PUSH	BC
04189F CD DA 18 04         A  4789    	CALL	_putch
0418A3 C1                  A  4790    	POP	BC
                           A  4791    ;  468		putch(7);	// scroll
                           A  4792    .LINE 468
                           A  4793    
0418A4 01070000            A  4794    	LD	BC,7
0418A8 C5                  A  4795    	PUSH	BC
0418A9 CD DA 18 04         A  4796    	CALL	_putch
0418AD C1                  A  4797    	POP	BC
                           A  4798    ;  469		putch(extent);
                           A  4799    .LINE 469
                           A  4800    
0418AE DD7E06              A  4801    	LD	A,(IX+%6)
0418B1 B7ED62              A  4802    	UEXT	HL
0418B4 6F                  A  4803    	LD	L,A
0418B5 E5                  A  4804    	PUSH	HL
0418B6 CD DA 18 04         A  4805    	CALL	_putch
0418BA C1                  A  4806    	POP	BC
                           A  4807    ;  470		putch(direction);
                           A  4808    .LINE 470
                           A  4809    
0418BB DD7E09              A  4810    	LD	A,(IX+%9)
0418BE B7ED62              A  4811    	UEXT	HL
0418C1 6F                  A  4812    	LD	L,A
0418C2 E5                  A  4813    	PUSH	HL
0418C3 CD DA 18 04         A  4814    	CALL	_putch
0418C7 C1                  A  4815    	POP	BC
                           A  4816    ;  471		putch(speed);
                           A  4817    .LINE 471
                           A  4818    
0418C8 DD7E0C              A  4819    	LD	A,(IX+%C)
0418CB B7ED62              A  4820    	UEXT	HL
0418CE 6F                  A  4821    	LD	L,A
0418CF E5                  A  4822    	PUSH	HL
0418D0 CD DA 18 04         A  4823    	CALL	_putch
0418D4 C1                  A  4824    	POP	BC
                           A  4825    .LINE 472
                           A  4826    
0418D5 DDF9                A  4827    	LD	SP,IX
0418D7 DDE1                A  4828    	POP	IX
0418D9 C9                  A  4829    	RET	
                           A  4830    
                           A  4831    
                           A  4832    ;**************************** _vdp_scroll *****
                           A  4833    ;Name                         Addr/Register   S
                           A  4834    ;_putch                              IMPORT  --
                           A  4835    ;speed                                IX+12    
                           A  4836    ;direction                             IX+9    
                           A  4837    ;extent                                IX+6    
                           A  4838    
                           A  4839    
                           A  4840    ; Stack Frame Size: 15 (bytes)
                           A  4841    ;       Spill Code: 0 (instruction)
                           A  4842    
                           A  4843    
                           A  4844    .ENDFUNC "vdp_scroll",472,"_vdp_scroll"
                           A  4845    	XREF _getsysvar_scrchar:ROM
                           A  4846    	XREF _getsysvar_cursorY:ROM
                           A  4847    	XREF _getsysvar_cursorX:ROM
                           A  4848    	XREF _putch:ROM
                           A  4849    	XREF __imuls:ROM
                           A  4850    	XREF __ior:ROM
                           A  4851    	XREF __stoiu:ROM
                           A  4852    	XDEF _vdp_scroll
                           A  4853    	XDEF _vdp_cursorEnable
                           A  4854    	XDEF _vdp_cursorDisable
                           A  4855    	XDEF _vdp_setpagedMode
                           A  4856    	XDEF _vdp_asciiCodeAt
                           A  4857    	XDEF _vdp_cursorGetYpos
                           A  4858    	XDEF _vdp_cursorGetXpos
                           A  4859    	XDEF _vdp_spriteRefresh
                           A  4860    	XDEF _vdp_spriteActivateTotal
                           A  4861    	XDEF _vdp_spriteMoveBy
                           A  4862    	XDEF _vdp_spriteMoveBySelected
                           A  4863    	XDEF _vdp_spriteMoveTo
                           A  4864    	XDEF _vdp_spriteMoveToSelected
                           A  4865    	XDEF _vdp_spriteHide
                           A  4866    	XDEF _vdp_spriteHideSelected
                           A  4867    	XDEF _vdp_spriteShow
                           A  4868    	XDEF _vdp_spriteShowSelected
                           A  4869    	XDEF _vdp_spriteSetFrame
                           A  4870    	XDEF _vdp_spriteSetFrameSelected
                           A  4871    	XDEF _vdp_spritePreviousFrame
                           A  4872    	XDEF _vdp_spritePreviousFrameSelected
                           A  4873    	XDEF _vdp_spriteNextFrame
                           A  4874    	XDEF _vdp_spriteNextFrameSelected
                           A  4875    	XDEF _vdp_spriteAddFrame
                           A  4876    	XDEF _vdp_spriteAddFrameSelected
                           A  4877    	XDEF _vdp_spriteClearFrames
                           A  4878    	XDEF _vdp_spriteClearFramesSelected
                           A  4879    	XDEF _vdp_spriteSelect
                           A  4880    	XDEF _vdp_bitmapCreateSolidColor
                           A  4881    	XDEF _vdp_bitmapCreateSolidColorSelected
                           A  4882    	XDEF _vdp_bitmapDraw
                           A  4883    	XDEF _vdp_bitmapDrawSelected
                           A  4884    	XDEF _vdp_bitmapSendData
                           A  4885    	XDEF _vdp_bitmapSendDataSelected
                           A  4886    	XDEF _vdp_bitmapSelect
                           A  4887    	XDEF _vdp_plotSetOrigin
                           A  4888    	XDEF _vdp_plotCircleCircumference
                           A  4889    	XDEF _vdp_plotCircleRadius
                           A  4890    	XDEF _vdp_plotTriangle
                           A  4891    	XDEF _vdp_plotPoint
                           A  4892    	XDEF _vdp_plotLineTo
                           A  4893    	XDEF _vdp_plotMoveTo
                           A  4894    	XDEF _vdp_plot
                           A  4895    	XDEF _vdp_plotColour
                           A  4896    	XDEF _vdp_clearGraphics
                           A  4897    	XDEF _vdp_bgcolour
                           A  4898    	XDEF _vdp_fgcolour
                           A  4899    	XDEF _vdp_cursorGoto
                           A  4900    	XDEF _vdp_cursorUp
                           A  4901    	XDEF _vdp_cursorHome
                           A  4902    	XDEF _vdp_cls
                           A  4903    	XDEF _vdp_setPaletteColor
                           A  4904    	XDEF _vdp_getMode
                           A  4905    	XDEF _vdp_mode
                           A  4906    	XDEF _write32bit
                           A  4907    	XDEF _write24bit
                           A  4908    	XDEF _write16bit
                           A  4909    	END


Errors: 0
Warnings: 0
Lines Assembled: 4910
